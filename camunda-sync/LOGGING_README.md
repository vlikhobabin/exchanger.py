# üìã –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è camunda-sync.py

## üéØ –¶–µ–ª—å

–û–±–µ—Å–ø–µ—á–∏—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (–∫–æ–Ω—Å–æ–ª—å + —Ñ–∞–π–ª—ã) –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–µ—Ä–≤–∏—Å–∞ `camunda-sync.py`:
- –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å `main.py`
- –í—Å–µ —É—Ç–∏–ª–∏—Ç—ã –≤ –ø–∞–ø–∫–µ `tools/`

## üì¶ –ú–æ–¥—É–ª—å: `tools/logging_utils.py`

–°–æ–∑–¥–∞–Ω —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–æ–¥—É–ª—å `tools/logging_utils.py`, –∫–æ—Ç–æ—Ä—ã–π –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:
- **–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** —Å –∑–∞–ø–∏—Å—å—é –≤ —Ñ–∞–π–ª—ã –¥–ª—è —É—Ç–∏–ª–∏—Ç
- **–ï–¥–∏–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã** –∫–∞–∫ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Å–µ—Ä–≤–∏—Å–µ `main.py`
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ** –ø–∞–ø–∫–∏ `logs/`
- **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã** —Ä–æ—Ç–∞—Ü–∏–∏ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è
- **–ü—Ä–æ—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏** –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –î–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ (main.py)
```python
# –£–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤ main.py —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏—é setup_logging()
from loguru import logger

logger.info("–û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å –∑–∞–ø—É—â–µ–Ω")
logger.error("–û—à–∏–±–∫–∞ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Å–µ—Ä–≤–∏—Å–µ")
```

### –î–ª—è —É—Ç–∏–ª–∏—Ç –≤ tools/
```python
from tools.logging_utils import setup_tool_logging
from loguru import logger

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (–∫–æ–Ω—Å–æ–ª—å + —Ñ–∞–π–ª—ã)
setup_tool_logging("tool_name")

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∞–∫ –æ–±—ã—á–Ω–æ
logger.info("–£—Ç–∏–ª–∏—Ç–∞ –∑–∞–ø—É—â–µ–Ω–∞")
logger.error("–û—à–∏–±–∫–∞ –≤ —É—Ç–∏–ª–∏—Ç–µ")
```

### –î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
```python
from tools.logging_utils import setup_simple_console_logging
from loguru import logger

# –¢–æ–ª—å–∫–æ –∫–æ–Ω—Å–æ–ª—å, –±–µ–∑ —Ñ–∞–π–ª–æ–≤
setup_simple_console_logging("DEBUG")
logger.debug("–û—Ç–ª–∞–¥–æ—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ")
```

## üîß –¢–∏–ø—ã –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

### 1. –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å (main.py)
- **–ö–æ–Ω—Å–æ–ª—å**: —Ü–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥ —Å –ø–æ–ª–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º
- **–§–∞–π–ª—ã**: –æ—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥ + –ª–æ–≥ –æ—à–∏–±–æ–∫ —Å —Ä–æ—Ç–∞—Ü–∏–µ–π
- **–§—É–Ω–∫—Ü–∏—è**: `setup_logging()` –≤ main.py

–°–æ–∑–¥–∞–µ—Ç —Ñ–∞–π–ª—ã:
```
logs/
‚îú‚îÄ‚îÄ camunda_sync.log         # –û—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥ (100MB, 30 –¥–Ω–µ–π)
‚îî‚îÄ‚îÄ camunda_sync_errors.log  # –û—à–∏–±–∫–∏ (50MB, 60 –¥–Ω–µ–π)
```

### 2. –£—Ç–∏–ª–∏—Ç—ã tools/ (–ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)
- **–ö–æ–Ω—Å–æ–ª—å**: —Ü–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥ —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º —É—Ä–æ–≤–Ω–µ–º (–æ–±—ã—á–Ω–æ INFO –∏ –≤—ã—à–µ)
- **–§–∞–π–ª—ã**: –í–°–ï —Å–æ–æ–±—â–µ–Ω–∏—è –≤–∫–ª—é—á–∞—è DEBUG + –æ—Ç–¥–µ–ª—å–Ω—ã–π –ª–æ–≥ –æ—à–∏–±–æ–∫
- **–§—É–Ω–∫—Ü–∏—è**: `setup_tool_logging(tool_name, console_level)`

–°–æ–∑–¥–∞–µ—Ç —Ñ–∞–π–ª—ã:
```
logs/
‚îú‚îÄ‚îÄ tool_{tool_name}.log         # –í–°–ï —Å–æ–æ–±—â–µ–Ω–∏—è (DEBUG+) (50MB, 14 –¥–Ω–µ–π)
‚îî‚îÄ‚îÄ tool_{tool_name}_errors.log  # –¢–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏ (ERROR) (25MB, 30 –¥–Ω–µ–π)
```

**–†–∞–∑–ª–∏—á–∏–µ —É—Ä–æ–≤–Ω–µ–π**:
- **–ö–æ–Ω—Å–æ–ª—å**: –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ `console_level` –∏ –≤—ã—à–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä: INFO, WARNING, ERROR)
- **–û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª**: —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –í–°–ï —Å–æ–æ–±—â–µ–Ω–∏—è –≤–∫–ª—é—á–∞—è DEBUG
- **–§–∞–π–ª –æ—à–∏–±–æ–∫**: —Ç–æ–ª—å–∫–æ ERROR —Å–æ–æ–±—â–µ–Ω–∏—è

### 3. –£–ø—Ä–æ—â–µ–Ω–Ω–æ–µ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–µ (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
- **–ö–æ–Ω—Å–æ–ª—å**: –ø—Ä–æ—Å—Ç–æ–π —Ü–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥
- **–§–∞–π–ª—ã**: –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è  
- **–§—É–Ω–∫—Ü–∏—è**: `setup_simple_console_logging(level)`

## üìù –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —É—Ç–∏–ª–∏—Ç –≤ tools/

### ‚úÖ tools/get_diagram_xml.py (–û–ë–ù–û–í–õ–ï–ù–û)

```python
# –ë–´–õ–û:
logger.remove()
logger.add(sys.stdout, level="INFO", format="{time:HH:mm:ss} | {level} | {message}")

# –°–¢–ê–õ–û:
from tools.logging_utils import setup_tool_logging
setup_tool_logging("get_diagram_xml")
```

### üîÑ –û—Å—Ç–∞–ª—å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã (–ü–û –ú–ï–†–ï –ù–ï–û–ë–•–û–î–ò–ú–û–°–¢–ò)

–î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –ª—é–±—É—é —É—Ç–∏–ª–∏—Ç—É:

```python
# –í –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞ —É—Ç–∏–ª–∏—Ç—ã –¥–æ–±–∞–≤–∏—Ç—å:
from tools.logging_utils import setup_tool_logging

# –ü–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–æ–≤:
setup_tool_logging("–∏–º—è_—É—Ç–∏–ª–∏—Ç—ã")

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –æ–±—ã—á–Ω–æ:
logger.info("–°–æ–æ–±—â–µ–Ω–∏–µ")
```

## üìä –ü—Ä–∏–º–µ—Ä—ã —Ñ–æ—Ä–º–∞—Ç–æ–≤ –ª–æ–≥–æ–≤

### –ü–æ–ª–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç (main.py –∏ —É—Ç–∏–ª–∏—Ç—ã)
```
2024-01-15 14:30:25 | INFO     | main:setup_logging:67 | ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –¥–ª—è —É—Ç–∏–ª–∏—Ç—ã 'get_diagram_xml'
```

### –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç (console-only)
```
14:30:25 | INFO | –ü—Ä–æ—Å—Ç–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ –ª–æ–≥–æ–≤

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:

```
camunda-sync.py/
‚îú‚îÄ‚îÄ logs/
‚îÇ   ‚îú‚îÄ‚îÄ camunda_sync.log              # –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å
‚îÇ   ‚îú‚îÄ‚îÄ camunda_sync_errors.log       # –û—à–∏–±–∫–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
‚îÇ   ‚îú‚îÄ‚îÄ tool_get_diagram_xml.log      # –£—Ç–∏–ª–∏—Ç–∞ get_diagram_xml
‚îÇ   ‚îú‚îÄ‚îÄ tool_get_diagram_xml_errors.log
‚îÇ   ‚îú‚îÄ‚îÄ tool_convert.log              # –£—Ç–∏–ª–∏—Ç–∞ convert (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞)
‚îÇ   ‚îú‚îÄ‚îÄ tool_convert_errors.log
‚îÇ   ‚îî‚îÄ‚îÄ ...                           # –î—Ä—É–≥–∏–µ —É—Ç–∏–ª–∏—Ç—ã
‚îî‚îÄ‚îÄ tools/
    ‚îî‚îÄ‚îÄ logging_utils.py              # –ú–æ–¥—É–ª—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
```

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞

1. **–ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ** - –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –≤ main.py –∏ —É—Ç–∏–ª–∏—Ç–∞—Ö
2. **–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ—Å—Ç—å** - —Ñ–∞–π–ª—ã –ª–æ–≥–æ–≤ –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–µ—Ä–≤–∏—Å–∞
3. **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è** - –æ–¥–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
4. **–ì–∏–±–∫–æ—Å—Ç—å** - —Ä–∞–∑–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –∏ —É—Ç–∏–ª–∏—Ç
5. **–û—Ç–ª–∞–¥–∫–∞** - –≤—Å–µ —Å–æ–±—ã—Ç–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ñ–∞–π–ª—ã

## üö® –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **–ü—É—Ç–∏ –∫ —Ñ–∞–π–ª–∞–º**: —É—Ç–∏–ª–∏—Ç—ã —Å–æ–∑–¥–∞—é—Ç –ª–æ–≥–∏ –≤ `../logs/` (–Ω–∞ —É—Ä–æ–≤–µ–Ω—å –≤–≤–µ—Ä—Ö)
2. **–ò–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤**: —É—Ç–∏–ª–∏—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø—Ä–µ—Ñ–∏–∫—Å `tool_`
3. **–†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤**: —É —É—Ç–∏–ª–∏—Ç –º–µ–Ω—å—à–∏–µ —Ä–∞–∑–º–µ—Ä—ã –∏ —Å—Ä–æ–∫–∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è
4. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ**: –ø–∞–ø–∫–∞ `logs/` —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
5. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç –¥—Ä—É–≥–∏–µ —Å–µ—Ä–≤–∏—Å—ã –ø—Ä–æ–µ–∫—Ç–∞

## üîó –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–ú–æ–¥—É–ª—å `tools/logging_utils.py` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ —Ä–∞–º–∫–∞—Ö —Å–µ—Ä–≤–∏—Å–∞ `camunda-sync.py` –∏ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –¥—Ä—É–≥–∏–µ —Å–µ—Ä–≤–∏—Å—ã –ø—Ä–æ–µ–∫—Ç–∞.
