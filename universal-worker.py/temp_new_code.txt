            # Подготавливаем переменные для Camunda
            original_variables = message_data.get("original_message", {}).get("variables", {})
            variables = original_variables.copy() if original_variables else {}

            # Добавляем результат выполнения
            variables["result"] = "ok"
            
            # Извлекаем данные задачи из ответа Bitrix24
            task_data = response_data.get("result", {}).get("task", {})
            if task_data:
                # Передаем данные созданной задачи в Camunda как JSON
                variables["bitrix_task"] = task_data
                
                # Дополнительно передаем ключевые поля как отдельные переменные для удобства
                if "id" in task_data:
                    variables["bitrix_task_id"] = str(task_data["id"])
                if "title" in task_data:
                    variables["bitrix_task_title"] = str(task_data["title"])
                if "status" in task_data:
                    variables["bitrix_task_status"] = str(task_data["status"])
                if "createdDate" in task_data:
                    variables["bitrix_task_created"] = str(task_data["createdDate"])
                if "closedDate" in task_data:
                    variables["bitrix_task_closed"] = str(task_data["closedDate"])
                
                logger.info(f"Передаем в Camunda данные задачи Bitrix24: ID={task_data.get('id')}, Title='{task_data.get('title', '')[:50]}...'")
            else:
                logger.warning(f"Данные задачи не найдены в ответе для {task_id}")

            # Завершаем задачу в Camunda
            return self._complete_task_in_camunda(task_id, variables)
