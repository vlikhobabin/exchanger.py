# Imena Storm Module

Модуль для интеграции с Storm BPMN диаграммами в Bitrix24.

## Описание

Imena Storm - это модуль для Bitrix24, который обеспечивает интеграцию с системой Storm BPMN для управления бизнес-процессами. Модуль позволяет синхронизировать диаграммы процессов, управлять ответственными за этапы процессов и предоставляет удобный интерфейс для работы с BPMN диаграммами.

## Возможности

- **Синхронизация диаграмм**: Автоматическая синхронизация диаграмм из Storm BPMN
- **Управление процессами**: Создание, редактирование и удаление диаграмм
- **Ответственные**: Назначение ответственных за этапы процессов
- **Теги**: Организация диаграмм с помощью тегов
- **Права доступа**: Гибкая система прав доступа
- **REST API**: Полноценное REST API для интеграции
- **Мониторинг**: Мониторинг состояния синхронизации

## Структура модуля

```
imena.storm/
├── lib/Storm/                    # Основные классы модуля
│   ├── Access/                   # Система контроля доступа
│   ├── Diagram.php              # Основная сущность диаграммы
│   ├── DiagramTable.php         # ORM таблица
│   └── StormProvider.php        # Provider для Entity Editor
├── install/                     # Установочные файлы
│   ├── components/              # Компоненты
│   ├── db/mysql/               # SQL скрипты
│   └── index.php               # Установщик модуля
├── lang/                       # Языковые файлы
├── admin/                      # Административные страницы
└── include.php                 # Автозагрузчик
```

## Установка

1. Скопируйте модуль в папку `/local/modules/imena.storm/`
2. Установите модуль через административную панель Bitrix24
3. Настройте параметры синхронизации в настройках модуля

## Настройка

После установки модуля необходимо:

1. Настроить подключение к Storm BPMN API
2. Указать Bearer токен для аутентификации
3. Настроить параметры синхронизации
4. Определить права доступа пользователей

## Компоненты

### storm.detail
Компонент для отображения детальной информации о диаграмме.

### storm.list
Компонент для отображения списка диаграмм с возможностью фильтрации и поиска.

## API

Модуль предоставляет REST API для интеграции с внешними системами:

- `GET /rest/imena.storm/diagram.list` - Получение списка диаграмм
- `GET /rest/imena.storm/diagram.get` - Получение диаграммы по ID
- `POST /rest/imena.storm/diagram.add` - Создание новой диаграммы
- `POST /rest/imena.storm/diagram.update` - Обновление диаграммы
- `POST /rest/imena.storm/diagram.delete` - Удаление диаграммы

## Права доступа

Модуль поддерживает следующие права доступа:

- **VIEW** - Просмотр диаграмм
- **CREATE** - Создание диаграмм
- **UPDATE** - Редактирование диаграмм
- **DELETE** - Удаление диаграмм
- **SYNC** - Синхронизация с Storm BPMN
- **EXPORT** - Экспорт диаграмм
- **SHARE** - Публикация диаграмм
- **ADMIN_SETTINGS** - Административные настройки

## Разработка

Модуль разработан с использованием D7 API Bitrix24 и следует принципам:

- Использование namespace для всех классов
- Автозагрузка классов через spl_autoload_register
- ORM для работы с базой данных
- Система контроля доступа
- Многоязычность

## Поддержка

Для получения поддержки обращайтесь к разработчику: vlikhobabin@gmail.com

## Лицензия

Модуль разработан для внутреннего использования в компании Imena.
