# IMENA Camunda - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü –º–æ–¥—É–ª—è

**–í–µ—Ä—Å–∏—è:** 2.0+  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ê–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è  
**–ê–≤—Ç–æ—Ä:** #vlikhobabin@gmail.com  
**–î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 25.01.2025

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û–±–∑–æ—Ä](#–æ–±–∑–æ—Ä)
2. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞—Ç–∞–ª–æ–≥–∞](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–∫–∞—Ç–∞–ª–æ–≥–∞)
3. [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã](#–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ-—Ñ–∞–π–ª—ã)
4. [–°—Ç—Ä–∞–Ω–∏—Ü—ã –º–æ–¥—É–ª—è](#—Å—Ç—Ä–∞–Ω–∏—Ü—ã-–º–æ–¥—É–ª—è)
   - [processinstance - –≠–∫–∑–µ–º–ø–ª—è—Ä—ã –ø—Ä–æ—Ü–µ—Å—Å–æ–≤](#processinstance---—ç–∫–∑–µ–º–ø–ª—è—Ä—ã-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤)
   - [processdefinition - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤](#processdefinition---–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤)
   - [externaltask - –í–Ω–µ—à–Ω–∏–µ –∑–∞–¥–∞—á–∏](#externaltask---–≤–Ω–µ—à–Ω–∏–µ-–∑–∞–¥–∞—á–∏)
   - [processvariable - –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤](#processvariable---–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤)
   - [settings - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–¥—É–ª—è](#settings---–Ω–∞—Å—Ç—Ä–æ–π–∫–∏-–º–æ–¥—É–ª—è)
5. [–ù–∞–≤–∏–≥–∞—Ü–∏—è](#–Ω–∞–≤–∏–≥–∞—Ü–∏—è)
6. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ SidePanel](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-sidepanel)
7. [JavaScript —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è](#javascript-—Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è)
8. [–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ](#—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞-–∏-—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ)

---

## –û–±–∑–æ—Ä

–ö–∞—Ç–∞–ª–æ–≥ `/local/pages/imena/camunda/` —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –º–æ–¥—É–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Camunda 7 BPM Engine. –°—Ç—Ä–∞–Ω–∏—Ü—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É Bitrix24 —Å SidePanel –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –µ–¥–∏–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ **–°–ø–∏—Å–∫–∏ —Å—É—â–Ω–æ—Å—Ç–µ–π** —Å Grid —Å–∏—Å—Ç–µ–º–æ–π –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
- ‚úÖ **–î–µ—Ç–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã** –≤ SidePanel –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ **–ï–¥–∏–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è** —á–µ—Ä–µ–∑ –ª–µ–≤–æ–µ –º–µ–Ω—é
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** —Å Camunda
- ‚úÖ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏** (suspend, resume, terminate)
- ‚úÖ **–ó–∞–ø—É—Å–∫ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤** –∏–∑ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π
- ‚úÖ **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–¥—É–ª—è** —Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞—Ç–∞–ª–æ–≥–∞

```
/local/pages/imena/camunda/
‚îú‚îÄ‚îÄ .section.php                    # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–∞–∑–¥–µ–ª–∞ (SEO, –º–µ—Ç–∞-–¥–∞–Ω–Ω—ã–µ)
‚îú‚îÄ‚îÄ .left.menu.php                  # –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–µ –º–µ–Ω—é
‚îú‚îÄ‚îÄ index.php                       # –ö–æ—Ä–Ω–µ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (—Ä–µ–¥–∏—Ä–µ–∫—Ç)
‚îú‚îÄ‚îÄ README.md                       # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (—ç—Ç–æ—Ç —Ñ–∞–π–ª)
‚îÇ
‚îú‚îÄ‚îÄ processinstance/                # –≠–∫–∑–µ–º–ø–ª—è—Ä—ã –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ index.php                   # –°–ø–∏—Å–æ–∫ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ detail/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.php               # –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞
‚îÇ   ‚îú‚îÄ‚îÄ js/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sidepanel.js            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è SidePanel
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ sync-processinstance.js # –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ lang/                       # –Ø–∑—ã–∫–æ–≤—ã–µ —Ñ–∞–π–ª—ã
‚îÇ
‚îú‚îÄ‚îÄ processdefinition/              # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ index.php                   # –°–ø–∏—Å–æ–∫ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ detail/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.php               # –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ startform/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.php               # –§–æ—Ä–º–∞ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞
‚îÇ   ‚îú‚îÄ‚îÄ js/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sidepanel.js            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è SidePanel
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ sync-definition.js      # –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ lang/                       # –Ø–∑—ã–∫–æ–≤—ã–µ —Ñ–∞–π–ª—ã
‚îÇ
‚îú‚îÄ‚îÄ externaltask/                   # –í–Ω–µ—à–Ω–∏–µ –∑–∞–¥–∞—á–∏
‚îÇ   ‚îú‚îÄ‚îÄ index.php                   # –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á
‚îÇ   ‚îú‚îÄ‚îÄ detail/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.php               # –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–¥–∞—á–∏
‚îÇ   ‚îú‚îÄ‚îÄ js/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sidepanel.js            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è SidePanel
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ sync-externaltask.js    # –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞—á
‚îÇ   ‚îî‚îÄ‚îÄ lang/                       # –Ø–∑—ã–∫–æ–≤—ã–µ —Ñ–∞–π–ª—ã
‚îÇ
‚îú‚îÄ‚îÄ processvariable/                # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ index.php                   # –°–ø–∏—Å–æ–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ lang/                       # –Ø–∑—ã–∫–æ–≤—ã–µ —Ñ–∞–π–ª—ã
‚îÇ
‚îî‚îÄ‚îÄ settings/                       # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–¥—É–ª—è
    ‚îî‚îÄ‚îÄ index.php                   # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
```

---

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### .section.php

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–∞–∑–¥–µ–ª–∞ –¥–ª—è SEO –∏ –º–µ—Ç–∞-–¥–∞–Ω–Ω—ã—Ö

**–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**
- `$sSectionName` - –ù–∞–∑–≤–∞–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞ –≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
- `$arDirProperties` - SEO —Å–≤–æ–π—Å—Ç–≤–∞ (title, description, keywords)

**–ü—Ä–∏–º–µ—Ä:**
```php
$sSectionName = '–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Camunda 7';
$arDirProperties = [
    'title' => 'Camunda 7 - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏ –∏ workflow',
    'description' => '–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Camunda 7 BPM Engine...',
    'keywords' => 'camunda, bpm, –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å—ã, workflow...',
];
```

### .left.menu.php

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–µ –º–µ–Ω—é –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ —à–∞–ø–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```php
$aMenuLinks = [
    [
        '–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤',
        '/local/pages/imena/camunda/processdefinition/',
        [],
        ['menu_item_id' => 'camunda_processdefinition'],
        '',
    ],
    // ... –¥—Ä—É–≥–∏–µ –ø—É–Ω–∫—Ç—ã –º–µ–Ω—é
];
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º `bitrix:menu`
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ `air-header-menu`
- –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø—É–Ω–∫—Ç–∞ –º–µ–Ω—é

### index.php (–∫–æ—Ä–Ω–µ–≤–æ–π)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ö–æ—Ä–Ω–µ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –º–æ–¥—É–ª—è, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π —Ä–∞–∑–¥–µ–ª

**–õ–æ–≥–∏–∫–∞:**
```php
// –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Ä–∞–∑–¥–µ–ª Process Definitions (–æ—Å–Ω–æ–≤–Ω–æ–π —Ä–∞–∑–¥–µ–ª)
LocalRedirect('/local/pages/imena/camunda/processdefinition/');
```

---

## –°—Ç—Ä–∞–Ω–∏—Ü—ã –º–æ–¥—É–ª—è

### processinstance - –≠–∫–∑–µ–º–ø–ª—è—Ä—ã –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

**URL:** `/local/pages/imena/camunda/processinstance/`  
**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:** `imena.camunda:camunda.processinstance.list`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞–º–∏ –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ Camunda

#### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –≤ Grid
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é –ø—Ä–æ—Ü–µ—Å—Å–∞, —Å—Ç–∞—Ç—É—Å—É, –¥–∞—Ç–µ
- ‚úÖ –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –ª—é–±–æ–º—É –ø–æ–ª—é
- ‚úÖ –ú–∞—Å—Å–æ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (suspend, resume, terminate)
- ‚úÖ –î–µ–π—Å—Ç–≤–∏—è –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
- ‚úÖ –û—Ç–∫—Ä—ã—Ç–∏–µ –¥–µ—Ç–∞–ª—å–Ω—ã—Ö –∫–∞—Ä—Ç–æ—á–µ–∫ –≤ SidePanel
- ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å Camunda

#### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|----------|
| `PROCESS_DEFINITION_ID` | string | ID –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ (legacy) |
| `PROCESS_DEFINITION_KEY` | string | –ö–ª—é—á –ø—Ä–æ—Ü–µ—Å—Å–∞ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ |
| `STATUS` | string | –°—Ç–∞—Ç—É—Å –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ (ACTIVE, SUSPENDED) |
| `IFRAME` | Y/N | –§–ª–∞–≥ –æ—Ç–∫—Ä—ã—Ç–∏—è –≤ SidePanel |
| `IFRAME_TYPE` | string | –¢–∏–ø SidePanel (SIDE_SLIDER) |

#### –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞

**URL:** `/local/pages/imena/camunda/processinstance/detail/?ID={process_id}`

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:** `imena.camunda:camunda.processinstance.details`

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ø–æ–ª–µ–π –ø—Ä–æ—Ü–µ—Å—Å–∞
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Entity Editor
- –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ (ID=0)
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º
- –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ –∑–∞–¥–∞—á

#### JavaScript —Ñ–∞–π–ª—ã

- **sidepanel.js** - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ–≤–µ–¥–µ–Ω–∏—è SidePanel
- **sync-processinstance.js** - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ —Å Camunda

---

### processdefinition - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

**URL:** `/local/pages/imena/camunda/processdefinition/`  
**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:** `imena.camunda:camunda.processdefinition.list`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è–º–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ (BPMN –¥–∏–∞–≥—Ä–∞–º–º—ã)

#### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –≤ Grid
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç–∞—Ç—É—Å—É, –≤–µ—Ä—Å–∏–∏, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- ‚úÖ –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –ª—é–±–æ–º—É –ø–æ–ª—é
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è–º–∏ (suspend, activate, delete)
- ‚úÖ –ó–∞–ø—É—Å–∫ –Ω–æ–≤—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –∏–∑ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä BPMN –¥–∏–∞–≥—Ä–∞–º–º
- ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å Camunda

#### –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞

**URL:** `/local/pages/imena/camunda/processdefinition/detail/?ID={definition_id}`

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:** `imena.camunda:camunda.processdefinition.details`

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ø–æ–ª–µ–π –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
- –ü—Ä–æ—Å–º–æ—Ç—Ä BPMN –¥–∏–∞–≥—Ä–∞–º–º—ã
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏—è–º–∏
- –ó–∞–ø—É—Å–∫ –ø—Ä–æ—Ü–µ—Å—Å–∞

#### –°—Ç–∞—Ä—Ç–æ–≤–∞—è —Ñ–æ—Ä–º–∞

**URL:** `/local/pages/imena/camunda/processdefinition/startform/?KEY={process_key}`

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:** `imena.camunda:camunda.processdefinition.startform`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –§–æ—Ä–º–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏–∑ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ SidePanel
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Ñ–æ—Ä–º–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–≤–æ–π—Å—Ç–≤ –¥–∏–∞–≥—Ä–∞–º–º—ã Storm
- –í–∞–ª–∏–¥–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
- –ó–∞–ø—É—Å–∫ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏

#### JavaScript —Ñ–∞–π–ª—ã

- **sidepanel.js** - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ–≤–µ–¥–µ–Ω–∏—è SidePanel
- **sync-definition.js** - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π —Å Camunda

---

### externaltask - –í–Ω–µ—à–Ω–∏–µ –∑–∞–¥–∞—á–∏

**URL:** `/local/pages/imena/camunda/externaltask/`  
**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:** `imena.camunda:camunda.externaltask.list`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–Ω–µ—à–Ω–∏–º–∏ –∑–∞–¥–∞—á–∞–º–∏ Camunda (External Task Worker API)

#### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–¥–∞—á –≤ Grid
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ø—Ä–æ—Ü–µ—Å—Å—É, —Ç–æ–ø–∏–∫—É, —Å—Ç–∞—Ç—É—Å—É
- ‚úÖ –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –ª—é–±–æ–º—É –ø–æ–ª—é
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–∞—Ç—É—Å–æ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á

#### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|----------|
| `PROCESS_INSTANCE_ID` | string | ID –ø—Ä–æ—Ü–µ—Å—Å–∞ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ |
| `IFRAME` | Y/N | –§–ª–∞–≥ –æ—Ç–∫—Ä—ã—Ç–∏—è –≤ SidePanel |
| `IFRAME_TYPE` | string | –¢–∏–ø SidePanel |

#### –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞

**URL:** `/local/pages/imena/camunda/externaltask/detail/?ID={task_id}`

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:** `imena.camunda:camunda.externaltask.details`

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ø–æ–ª–µ–π –∑–∞–¥–∞—á–∏ (read-only)
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ—Ü–µ—Å—Å–µ
- –ò—Å—Ç–æ—Ä–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –°—Ç–∞—Ç—É—Å –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

#### JavaScript —Ñ–∞–π–ª—ã

- **sidepanel.js** - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ–≤–µ–¥–µ–Ω–∏—è SidePanel
- **sync-externaltask.js** - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞—á —Å Camunda

---

### processvariable - –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

**URL:** `/local/pages/imena/camunda/processvariable/`  
**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:** `imena.camunda:camunda.processvariable.list`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–æ—Å–º–æ—Ç—Ä –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

#### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–∞
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–∏–ø—É, —Å—Ç–∞—Ç—É—Å—É —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–Ω–∞—á–µ–Ω–∏–π –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- ‚úÖ –°—Ç–∞—Ç—É—Å—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å Camunda

#### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|----------|
| `PROCESS_INSTANCE_ID` | string | ID –ø—Ä–æ—Ü–µ—Å—Å–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) |
| `PROCESS_DEFINITION_KEY` | string | –ö–ª—é—á –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ |
| `IFRAME` | Y/N | –§–ª–∞–≥ –æ—Ç–∫—Ä—ã—Ç–∏—è –≤ SidePanel |
| `IFRAME_TYPE` | string | –¢–∏–ø SidePanel |

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```
/local/pages/imena/camunda/processvariable/?PROCESS_INSTANCE_ID=process-123
```

---

### settings - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–¥—É–ª—è

**URL:** `/local/pages/imena/camunda/settings/`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Camunda –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π

#### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö Camunda (URL, username, password)
- ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Camunda
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–∞—Ç—É—Å–∞ –∞–≥–µ–Ω—Ç–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- ‚úÖ –ó–∞–ø—É—Å–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –≤—Ä—É—á–Ω—É—é
- ‚úÖ –°–±—Ä–æ—Å –æ—à–∏–±–æ–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

#### –°–µ–∫—Ü–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Camunda 7**
   - URL —Å–µ—Ä–≤–µ—Ä–∞ Camunda REST API
   - –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –ü–∞—Ä–æ–ª—å
   - –ö–Ω–æ–ø–∫–∏: –°–æ—Ö—Ä–∞–Ω–∏—Ç—å, –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å, –£–¥–∞–ª–∏—Ç—å

2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è**
   - –ß–µ–∫–±–æ–∫—Å –≤–∫–ª—é—á–µ–Ω–∏—è/–≤—ã–∫–ª—é—á–µ–Ω–∏—è
   - –ü–µ—Ä–∏–æ–¥ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (—Å–µ–∫.)
   - –°—Ç–∞—Ç—É—Å –∞–≥–µ–Ω—Ç–∞
   - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
   - –ö–Ω–æ–ø–∫–∏: –°–æ—Ö—Ä–∞–Ω–∏—Ç—å, –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ–π—á–∞—Å, –°–±—Ä–æ—Å–∏—Ç—å –æ—à–∏–±–∫–∏

#### –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–µ–π—Å—Ç–≤–∏–π

**POST –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `action=save_credentials` - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- `action=test_connection` - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- `action=clear_credentials` - –£–¥–∞–ª–µ–Ω–∏–µ —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- `action=save_sync_settings` - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- `action=reset_errors` - –°–±—Ä–æ—Å –æ—à–∏–±–æ–∫ –∏ –≤–∫–ª—é—á–µ–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

#### JavaScript —Ñ—É–Ω–∫—Ü–∏–∏

- `testConnection()` - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- `clearCredentials()` - –£–¥–∞–ª–µ–Ω–∏–µ —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- `resetErrors()` - –°–±—Ä–æ—Å –æ—à–∏–±–æ–∫
- `runSyncNow()` - –ó–∞–ø—É—Å–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ AJAX

---

## –ù–∞–≤–∏–≥–∞—Ü–∏—è

### –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã

–ù–∞–≤–∏–≥–∞—Ü–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —á–µ—Ä–µ–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º Bitrix24:

1. **–§–∞–π–ª –º–µ–Ω—é** `.left.menu.php` —Å–æ–¥–µ—Ä–∂–∏—Ç –º–∞—Å—Å–∏–≤ `$aMenuLinks`
2. **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç** `bitrix:menu` —Å —à–∞–±–ª–æ–Ω–æ–º `top_horizontal` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç —Ñ–∞–π–ª
3. **–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ** –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ `TopMenu::convertFromFileMenu()`
4. **–†–µ–Ω–¥–µ—Ä–∏–Ω–≥** –∫–Ω–æ–ø–æ–∫ —á–µ—Ä–µ–∑ `bitrix:main.interface.buttons`
5. **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ** –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ `air-header-menu`

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–µ–Ω—é

```php
$aMenuLinks = [
    [
        '–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤',                    // –ù–∞–∑–≤–∞–Ω–∏–µ
        '/local/pages/imena/camunda/processdefinition/', // URL
        [],                                         // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
        ['menu_item_id' => 'camunda_processdefinition'], // –ê—Ç—Ä–∏–±—É—Ç—ã
        '',                                         // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
    ],
    // ... –¥—Ä—É–≥–∏–µ –ø—É–Ω–∫—Ç—ã
];
```

### –ü—Ä–∞–≤–∏–ª–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ `menu_item_id`
- ‚úÖ –°–æ–∑–¥–∞–≤–∞–π—Ç–µ –æ–¥–∏–Ω —Ñ–∞–π–ª `.left.menu.php` –≤ –∫–æ—Ä–Ω–µ —Ä–∞–∑–¥–µ–ª–∞
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –ø—É—Ç–∏ –≤ URL
- ‚ùå –ù–µ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –º–µ–Ω—é –≤ –ø–æ–¥–ø–∞–ø–∫–∞—Ö
- ‚ùå –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞—Å—Ç–æ–º–Ω—ã–π JavaScript –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ SidePanel

### –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã

–í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –º–æ–¥—É–ª—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É **SidePanel** –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ UX –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

**–°—Ö–µ–º–∞:**
```
–û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (index.php)
    ‚Üì
bitrix:ui.sidepanel.wrapper
    ‚Üì
–ö–∞—Å—Ç–æ–º–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (imena.camunda:...)
    ‚Üì
–î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (detail/index.php)
    ‚Üì
bitrix:ui.sidepanel.wrapper
    ‚Üì
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–µ—Ç–∞–ª–µ–π (imena.camunda:...details)
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è SidePanel

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```php
$APPLICATION->IncludeComponent(
    'bitrix:ui.sidepanel.wrapper',
    '',
    [
        'POPUP_COMPONENT_NAME' => 'imena.camunda:camunda.processinstance.list',
        'POPUP_COMPONENT_TEMPLATE_NAME' => '',
        'POPUP_COMPONENT_PARAMS' => [
            'PATH_TO_DETAIL' => '/local/pages/imena/camunda/processinstance/detail/?ID=#ID#',
            'LIST_URL' => '/local/pages/imena/camunda/processinstance/',
        ],
        'USE_UI_TOOLBAR' => 'Y',
        'POPUP_COMPONENT_USE_BITRIX24_THEME' => 'Y',
    ]
);
```

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **–®–∏—Ä–∏–Ω–∞ –ø–∞–Ω–µ–ª–∏:** 900px (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ sidepanel.js)
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ:** –ü–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Grid:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è –ø–∞–Ω–µ–ª–∏
- **–ò—Å—Ç–æ—Ä–∏—è –±—Ä–∞—É–∑–µ—Ä–∞:** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –Ω–∞–∑–∞–¥/–≤–ø–µ—Ä–µ–¥
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:** –û—Ç–∫–ª—é—á–µ–Ω–æ –¥–ª—è –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö

---

## JavaScript —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

### sidepanel.js

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ–≤–µ–¥–µ–Ω–∏—è SidePanel

**–§—É–Ω–∫—Ü–∏–∏:**
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —à–∏—Ä–∏–Ω—ã –ø–∞–Ω–µ–ª–µ–π
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è –ø–∞–Ω–µ–ª–µ–π
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ Grid
- –ü–µ—Ä–µ—Ö–≤–∞—Ç –∫–ª–∏–∫–æ–≤ –Ω–∞ —Å—Å—ã–ª–∫–∏

**–ü—Ä–∏–º–µ—Ä:**
```javascript
BX.ready(function() {
    // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —à–∏—Ä–∏–Ω—ã SidePanel
    BX.SidePanel.Instance.setWidth(900);
    
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è –ø–∞–Ω–µ–ª–∏
    BX.addCustomEvent('SidePanel.Slider:onClose', function(event) {
        // –û–±–Ω–æ–≤–∏—Ç—å Grid
        if (window.BX && window.BX.Main && window.BX.Main.gridManager) {
            const grid = window.BX.Main.gridManager.getInstanceById('GRID_ID');
            if (grid) {
                grid.reload();
            }
        }
    });
});
```

### sync-*.js

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö —Å Camunda

**–§–∞–π–ª—ã:**
- `sync-processinstance.js` - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
- `sync-definition.js` - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π
- `sync-externaltask.js` - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞—á

**–§—É–Ω–∫—Ü–∏–∏:**
- AJAX –≤—ã–∑–æ–≤—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Grid –ø–æ—Å–ª–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

---

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã

1. **–°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é:**
   ```bash
   mkdir -p /local/pages/imena/camunda/newpage/
   ```

2. **–°–æ–∑–¥–∞—Ç—å index.php:**
   ```php
   <?php
   require($_SERVER['DOCUMENT_ROOT'].'/bitrix/header.php');
   
   IncludeModuleLangFile(__FILE__);
   $APPLICATION->SetTitle('–ù–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞');
   
   $APPLICATION->IncludeComponent(
       'bitrix:ui.sidepanel.wrapper',
       '',
       [
           'POPUP_COMPONENT_NAME' => 'imena.camunda:your.component',
           'POPUP_COMPONENT_PARAMS' => [
               // –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
           ],
           'USE_UI_TOOLBAR' => 'Y',
       ]
   );
   
   require($_SERVER['DOCUMENT_ROOT'].'/bitrix/footer.php');
   ```

3. **–î–æ–±–∞–≤–∏—Ç—å –≤ –º–µ–Ω—é:**
   ```php
   // –í .left.menu.php
   [
       '–ù–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞',
       '/local/pages/imena/camunda/newpage/',
       [],
       ['menu_item_id' => 'camunda_newpage'],
       '',
   ],
   ```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã

1. **–°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é detail:**
   ```bash
   mkdir -p /local/pages/imena/camunda/newpage/detail/
   ```

2. **–°–æ–∑–¥–∞—Ç—å detail/index.php:**
   ```php
   <?php
   require($_SERVER['DOCUMENT_ROOT'].'/bitrix/header.php');
   
   $id = (string)($_REQUEST['ID'] ?? '');
   $APPLICATION->SetTitle('–î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞');
   
   $APPLICATION->IncludeComponent(
       'bitrix:ui.sidepanel.wrapper',
       '',
       [
           'POPUP_COMPONENT_NAME' => 'imena.camunda:your.detail.component',
           'POPUP_COMPONENT_PARAMS' => [
               'ID' => $id,
           ],
       ]
   );
   
   require($_SERVER['DOCUMENT_ROOT'].'/bitrix/footer.php');
   ```

3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å PATH_TO_DETAIL –≤ —Å–ø–∏—Å–∫–µ:**
   ```php
   'PATH_TO_DETAIL' => '/local/pages/imena/camunda/newpage/detail/?ID=#ID#',
   ```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ JavaScript

1. **–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª:**
   ```bash
   mkdir -p /local/pages/imena/camunda/newpage/js/
   touch /local/pages/imena/camunda/newpage/js/custom.js
   ```

2. **–ü–æ–¥–∫–ª—é—á–∏—Ç—å –≤ index.php:**
   ```php
   $APPLICATION->AddHeadScript('/local/pages/imena/camunda/newpage/js/custom.js');
   ```

3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Bitrix API:**
   ```javascript
   BX.ready(function() {
       // –í–∞—à –∫–æ–¥
   });
   ```

### –Ø–∑—ã–∫–æ–≤—ã–µ —Ñ–∞–π–ª—ã

1. **–°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é:**
   ```bash
   mkdir -p /local/pages/imena/camunda/newpage/lang/ru/
   ```

2. **–°–æ–∑–¥–∞—Ç—å lang/ru/index.php:**
   ```php
   <?php
   $MESS['NEW_PAGE_TITLE'] = '–ù–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞';
   $MESS['NEW_PAGE_DESCRIPTION'] = '–û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã';
   ```

3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–æ–¥–µ:**
   ```php
   IncludeModuleLangFile(__FILE__);
   $APPLICATION->SetTitle(GetMessage('NEW_PAGE_TITLE'));
   ```

---

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –û—Ç–∫—Ä—ã—Ç–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏–∑ Grid

**–í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ —Å–ø–∏—Å–∫–∞:**
```php
'PATH_TO_DETAIL' => '/local/pages/imena/camunda/processinstance/detail/?ID=#ID#',
```

**–í JavaScript:**
```javascript
BX.SidePanel.Instance.open('/local/pages/imena/camunda/processinstance/detail/?ID=' + processId, {
    width: 900,
    cacheable: false
});
```

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–ø–∏—Å–∫–∞ –ø–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º

**–í URL:**
```
/local/pages/imena/camunda/processinstance/?PROCESS_DEFINITION_KEY=Process_abc123&STATUS=ACTIVE
```

**–í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ:**
```php
$processDefinitionKey = (string)($_REQUEST['PROCESS_DEFINITION_KEY'] ?? '');
$status = (string)($_REQUEST['STATUS'] ?? '');

'POPUP_COMPONENT_PARAMS' => [
    'PROCESS_DEFINITION_KEY' => $processDefinitionKey,
    'STATUS' => $status,
],
```

### AJAX —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

**–í JavaScript:**
```javascript
BX.ajax.runComponentAction('imena.camunda:camunda.list', 'syncProcess', {
    data: {
        processId: 'process-123'
    }
}).then(function(response) {
    if (response.data.success) {
        BX.UI.Notification.Center.notify({
            content: '–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞',
            autoHideDelay: 3000
        });
        // –û–±–Ω–æ–≤–∏—Ç—å Grid
        location.reload();
    }
});
```

---

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Bitrix24:** 20.0.0+
- **–ú–æ–¥—É–ª—å:** `imena.camunda` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- **PHP:** 8.0+
- **JavaScript:** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ BX API

---

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
   - –ü—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –∑–∞–ø–∏—Å–µ–π (>10000) –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
   - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é

2. **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - SidePanel –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–∫–ª—é—á–µ–Ω–æ –¥–ª—è –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö
   - –ú–æ–∂–µ—Ç –≤–ª–∏—è—Ç—å –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

3. **–ë—Ä–∞—É–∑–µ—Ä—ã:**
   - –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ ES6+
   - –ò—Å—Ç–æ—Ä–∏—è –±—Ä–∞—É–∑–µ—Ä–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞

---

## –ò—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π

### –í–µ—Ä—Å–∏—è 2.0+ (25.01.2025)

**–û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ `processvariable` –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
- ‚úÖ –£–ª—É—á—à–µ–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º –∞–≥–µ–Ω—Ç–∞
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Ç–∞—Ä—Ç–æ–≤–∞—è —Ñ–æ—Ä–º–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
- ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö

### –í–µ—Ä—Å–∏—è 1.0 (2024)

**–ù–∞—á–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è:**
- ‚úÖ –ë–∞–∑–æ–≤—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–ø–∏—Å–∫–æ–≤
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ SidePanel
- ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–µ –º–µ–Ω—é
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–¥—É–ª—è

---

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

**–ê–≤—Ç–æ—Ä:** #vlikhobabin@gmail.com

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –º–æ–¥—É–ª—è:** `/local/modules/imena.camunda/README.md`

**–õ–æ–≥–∏:**
- –°—Ç—Ä–∞–Ω–∏—Ü—ã: —á–µ—Ä–µ–∑ `error_log()`
- JavaScript: —á–µ—Ä–µ–∑ `console.log()`

---

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 25.01.2025*
