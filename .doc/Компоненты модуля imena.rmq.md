# IMENA RMQ Components - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

**–í–µ—Ä—Å–∏—è:** 1.0+  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ê–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è  
**–ê–≤—Ç–æ—Ä:** #vlikhobabin@gmail.com  
**–î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 25.01.2025

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û–±–∑–æ—Ä](#–æ–±–∑–æ—Ä)
2. [–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã](#–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
   - [queue.list - –°–ø–∏—Å–æ–∫ –æ—á–µ—Ä–µ–¥–µ–π RabbitMQ](#queuelist---—Å–ø–∏—Å–æ–∫-–æ—á–µ—Ä–µ–¥–µ–π-rabbitmq)
3. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
4. [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ](#–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)
5. [–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤](#–ø–∞—Ä–∞–º–µ—Ç—Ä—ã-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
6. [AJAX API](#ajax-api)
7. [–®–∞–±–ª–æ–Ω—ã](#—à–∞–±–ª–æ–Ω—ã)
8. [–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ](#—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞-–∏-—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ)

---

## –û–±–∑–æ—Ä

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–æ–¥—É–ª—è **imena.rmq** –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç UI –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å RabbitMQ Management API –≤ Bitrix24. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –º–æ–¥—É–ª—å `imena.rmq` –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å RabbitMQ —Å–µ—Ä–≤–µ—Ä–æ–º.

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –æ—á–µ—Ä–µ–¥–µ–π** —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
- ‚úÖ **Grid —Å–∏—Å—Ç–µ–º–∞** —Å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –∫–æ–ª–æ–Ω–æ–∫
- ‚úÖ **AJAX –¥–µ–π—Å—Ç–≤–∏—è** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—á–µ—Ä–µ–¥—è–º–∏
- ‚úÖ **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è** –ø–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º —Ö–æ—Å—Ç–∞–º
- ‚úÖ **–û—á–∏—Å—Ç–∫–∞ –æ—á–µ—Ä–µ–¥–µ–π** —á–µ—Ä–µ–∑ UI

---

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### queue.list - –°–ø–∏—Å–æ–∫ –æ—á–µ—Ä–µ–¥–µ–π RabbitMQ

**–ü—É—Ç—å:** `/local/components/imena.rmq/queue.list/`  
**–ù–∞–∑–≤–∞–Ω–∏–µ:** `imena.rmq:queue.list`  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –æ—á–µ—Ä–µ–¥–µ–π RabbitMQ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

#### –û–ø–∏—Å–∞–Ω–∏–µ

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç `queue.list` –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –æ—á–µ—Ä–µ–¥–µ–π RabbitMQ –∏–∑ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Ö–æ—Å—Ç–∞ (vhost) –≤ –≤–∏–¥–µ —Ç–∞–±–ª–∏—Ü—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Bitrix Grid —Å–∏—Å—Ç–µ–º—ã –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ–π HTML —Ç–∞–±–ª–∏—Ü—ã.

#### –í–µ—Ä—Å–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–º–µ–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–µ—Ä—Å–∏–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:

1. **`class.php`** ‚≠ê **–ê–∫—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å–∏—è**
   - –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è Grid —Å–∏—Å—Ç–µ–º–∞ (`bitrix:main.ui.grid`)
   - AJAX –¥–µ–π—Å—Ç–≤–∏—è —á–µ—Ä–µ–∑ `Controllerable`
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `RmqQueueGrid`
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ—á–∏—Å—Ç–∫–∏ –æ—á–µ—Ä–µ–¥–µ–π

2. **`class_simple.php`** - –ü—Ä–æ—Å—Ç–∞—è –≤–µ—Ä—Å–∏—è
   - –ë–µ–∑ Grid —Å–∏—Å—Ç–µ–º—ã
   - –ü—Ä–æ—Å—Ç–∞—è HTML —Ç–∞–±–ª–∏—Ü–∞
   - –ë–∞–∑–æ–≤–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
   - –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

3. **`class_grid.php`** - –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–∞—è –≤–µ—Ä—Å–∏—è
   - Grid —Å–∏—Å—Ç–µ–º–∞ –±–µ–∑ ComponentParams
   - Client-side —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
   - –†—É—á–Ω–æ–µ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ Grid

4. **`class_grid_final.php`** - –§–∏–Ω–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å ComponentParams
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `ComponentParams::get()`
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ Grid
   - –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Bitrix Grid API

5. **`class_grid_backup.php`** - –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è
   - Backup –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
queue.list/
‚îú‚îÄ‚îÄ class.php                    # ‚≠ê –ê–∫—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
‚îú‚îÄ‚îÄ class_simple.php             # –ü—Ä–æ—Å—Ç–∞—è –≤–µ—Ä—Å–∏—è
‚îú‚îÄ‚îÄ class_grid.php               # –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–∞—è –≤–µ—Ä—Å–∏—è
‚îú‚îÄ‚îÄ class_grid_final.php         # –§–∏–Ω–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è
‚îú‚îÄ‚îÄ class_grid_backup.php        # –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è
‚îú‚îÄ‚îÄ .parameters.php              # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
‚îú‚îÄ‚îÄ lang/
‚îÇ   ‚îî‚îÄ‚îÄ ru/
‚îÇ       ‚îî‚îÄ‚îÄ class.php            # –Ø–∑—ã–∫–æ–≤—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
‚îî‚îÄ‚îÄ templates/
    ‚îî‚îÄ‚îÄ .default/
        ‚îú‚îÄ‚îÄ template.php         # ‚≠ê –û—Å–Ω–æ–≤–Ω–æ–π —à–∞–±–ª–æ–Ω (Grid)
        ‚îú‚îÄ‚îÄ template_simple.php  # –ü—Ä–æ—Å—Ç–æ–π —à–∞–±–ª–æ–Ω
        ‚îú‚îÄ‚îÄ template_grid.php    # –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π —à–∞–±–ª–æ–Ω
        ‚îú‚îÄ‚îÄ template_grid_final.php
        ‚îú‚îÄ‚îÄ template_grid_backup.php
        ‚îî‚îÄ‚îÄ lang/
            ‚îî‚îÄ‚îÄ ru/
                ‚îî‚îÄ‚îÄ template.php # –Ø–∑—ã–∫–æ–≤—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã —à–∞–±–ª–æ–Ω–∞
```

#### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

**–ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–ª–∞—Å—Å—ã –º–æ–¥—É–ª—è:**
- `Imena\Rmq\Service\RmqApiClient` - HTTP –∫–ª–∏–µ–Ω—Ç RabbitMQ API
- `Imena\Rmq\Service\RmqApiException` - –ò—Å–∫–ª—é—á–µ–Ω–∏—è API
- `Imena\Rmq\Queue\QueueEntity` - Entity –æ–±—ä–µ–∫—Ç –æ—á–µ—Ä–µ–¥–∏
- `Imena\Rmq\Queue\Grid\RmqQueueGrid` - Grid —Å–∏—Å—Ç–µ–º–∞
- `Imena\Rmq\Queue\Grid\Settings\QueueSettings` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Grid

**Bitrix –∫–ª–∞—Å—Å—ã:**
- `CBitrixComponent` - –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- `Controllerable` - –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è AJAX –¥–µ–π—Å—Ç–≤–∏–π
- `ActionFilter` - –§–∏–ª—å—Ç—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–ª—è AJAX

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### –û—Å–Ω–æ–≤–Ω–∞—è –≤–µ—Ä—Å–∏—è (class.php)

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**

```
ImenaRmqQueueListComponent (CBitrixComponent + Controllerable)
    ‚îÇ
    ‚îú‚îÄ> executeComponent()
    ‚îÇ       ‚îÇ
    ‚îÇ       ‚îú‚îÄ> prepareData()
    ‚îÇ       ‚îÇ       ‚îÇ
    ‚îÇ       ‚îÇ       ‚îú‚îÄ> initComponentParams()
    ‚îÇ       ‚îÇ       ‚îú‚îÄ> getGrid() ‚Üí RmqQueueGrid
    ‚îÇ       ‚îÇ       ‚îú‚îÄ> grid->processRequest()
    ‚îÇ       ‚îÇ       ‚îî‚îÄ> loadGridData()
    ‚îÇ       ‚îÇ               ‚îÇ
    ‚îÇ       ‚îÇ               ‚îú‚îÄ> RmqApiClient->getQueues()
    ‚îÇ       ‚îÇ               ‚îú‚îÄ> QueueEntity::createFromApiResponse()
    ‚îÇ       ‚îÇ               ‚îî‚îÄ> grid->setRawRows()
    ‚îÇ       ‚îÇ
    ‚îÇ       ‚îî‚îÄ> includeComponentTemplate()
    ‚îÇ
    ‚îî‚îÄ> purgeQueueAction() (AJAX)
            ‚îÇ
            ‚îú‚îÄ> RmqApiClient->purgeQueue()
            ‚îî‚îÄ> return ['success' => true/false]
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Grid —Å–∏—Å—Ç–µ–º—É `RmqQueueGrid` –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- –†—É—á–Ω–æ–µ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ Grid (–±–µ–∑ ComponentParams)
- AJAX –¥–µ–π—Å—Ç–≤–∏—è —á–µ—Ä–µ–∑ `Controllerable` –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º

### –ü—Ä–æ—Å—Ç–∞—è –≤–µ—Ä—Å–∏—è (class_simple.php)

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**

```
ImenaRmqQueueListComponent (CBitrixComponent)
    ‚îÇ
    ‚îî‚îÄ> executeComponent()
            ‚îÇ
            ‚îú‚îÄ> RmqApiClient->getQueues()
            ‚îú‚îÄ> QueueEntity::createFromApiResponse()
            ‚îú‚îÄ> prepareQueueData() ‚Üí —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
            ‚îî‚îÄ> includeComponentTemplate()
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –ü—Ä–æ—Å—Ç–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- HTML —Ç–∞–±–ª–∏—Ü–∞ –±–µ–∑ Grid —Å–∏—Å—Ç–µ–º—ã
- –ù–µ—Ç AJAX –¥–µ–π—Å—Ç–≤–∏–π

---

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

**–í PHP:**
```php
$APPLICATION->IncludeComponent(
    'imena.rmq:queue.list',
    '',
    [
        'VHOST' => '/',
        'SHOW_EMPTY_QUEUES' => 'Y',
        'GRID_ID' => 'IMENA_RMQ_QUEUE_LIST',
        'PATH_TO_DETAIL' => '/local/pages/imena/rmq/queue/detail/',
        'CACHE_TIME' => 0,
        'CACHE_TYPE' => 'N',
    ]
);
```

**–í —à–∞–±–ª–æ–Ω–µ:**
```php
<?php
$APPLICATION->IncludeComponent(
    'imena.rmq:queue.list',
    '.default',
    [
        'VHOST' => '/',
        'SHOW_EMPTY_QUEUES' => 'N',
    ]
);
?>
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç–æ–π –≤–µ—Ä—Å–∏–∏

–î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–æ—Å—Ç–æ–π –≤–µ—Ä—Å–∏–∏ –±–µ–∑ Grid —Å–∏—Å—Ç–µ–º—ã:

1. **–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã:**
   ```bash
   mv class.php class_grid.php
   mv class_simple.php class.php
   ```

2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π —à–∞–±–ª–æ–Ω:**
   ```php
   $APPLICATION->IncludeComponent(
       'imena.rmq:queue.list',
       'simple',
       [...]
   );
   ```

---

## –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã queue.list

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|----------|
| `VHOST` | string | `'/'` | –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π —Ö–æ—Å—Ç RabbitMQ |
| `SHOW_EMPTY_QUEUES` | Y/N | `'Y'` | –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—É—Å—Ç—ã–µ –æ—á–µ—Ä–µ–¥–∏ |
| `GRID_ID` | string | `'IMENA_RMQ_QUEUE_LIST'` | ID Grid –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ |
| `PATH_TO_DETAIL` | string | `''` | –ü—É—Ç—å –∫ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ |
| `CACHE_TIME` | int | `0` | –í—Ä–µ–º—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –≤ —Å–µ–∫—É–Ω–¥–∞—Ö |
| `CACHE_TYPE` | A/Y/N | `'N'` | –¢–∏–ø –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è |
| `CACHE_GROUPS` | Y/N | `'Y'` | –£—á–∏—Ç—ã–≤–∞—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –ø—Ä–∏ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–∏ |

### –û–ø–∏—Å–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

#### VHOST
–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π —Ö–æ—Å—Ç RabbitMQ, –∏–∑ –∫–æ—Ç–æ—Ä–æ–≥–æ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –æ—á–µ—Ä–µ–¥–∏. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–æ—Ä–Ω–µ–≤–æ–π vhost `/`.

**–ü—Ä–∏–º–µ—Ä—ã:**
- `'/'` - –∫–æ—Ä–Ω–µ–≤–æ–π vhost
- `'/production'` - production vhost
- `'/development'` - development vhost

#### SHOW_EMPTY_QUEUES
–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ª–∏ –æ—á–µ—Ä–µ–¥–∏ –±–µ–∑ —Å–æ–æ–±—â–µ–Ω–∏–π.

- `'Y'` - –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤—Å–µ –æ—á–µ—Ä–µ–¥–∏ (–≤–∫–ª—é—á–∞—è –ø—É—Å—Ç—ã–µ)
- `'N'` - —Å–∫—Ä—ã–≤–∞—Ç—å –ø—É—Å—Ç—ã–µ –æ—á–µ—Ä–µ–¥–∏

#### GRID_ID
–£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä Grid –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ (—à–∏—Ä–∏–Ω–∞ –∫–æ–ª–æ–Ω–æ–∫, –ø–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –∏ —Ç.–¥.).

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- –§–æ—Ä–º–∞—Ç: `'IMENA_RMQ_QUEUE_LIST_' . $uniqueSuffix`

#### PATH_TO_DETAIL
–ü—É—Ç—å –∫ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –æ—á–µ—Ä–µ–¥–∏. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Å—ã–ª–æ–∫ –≤ Grid.

**–ü—Ä–∏–º–µ—Ä:**
```php
'PATH_TO_DETAIL' => '/local/pages/imena/rmq/queue/detail/?QUEUE=#QUEUE#&VHOST=#VHOST#'
```

---

## AJAX API

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

#### purgeQueueAction

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û—á–∏—Å—Ç–∫–∞ –æ—á–µ—Ä–µ–¥–∏ –æ—Ç –≤—Å–µ—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `queueName` (string, required) - –ò–º—è –æ—á–µ—Ä–µ–¥–∏
- `vhost` (string, default: `'/'`) - –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π —Ö–æ—Å—Ç

**–ó–∞—â–∏—Ç–∞:**
- `Authentication` - –¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- `HttpMethod` - –¢–æ–ª—å–∫–æ POST
- `Csrf` - –ó–∞—â–∏—Ç–∞ –æ—Ç CSRF

**–ü—Ä–∏–º–µ—Ä –≤—ã–∑–æ–≤–∞:**
```javascript
BX.ajax.runComponentAction('imena.rmq:queue.list', 'purgeQueue', {
    data: {
        queueName: 'my_queue',
        vhost: '/'
    }
}).then(function(response) {
    if (response.data.success) {
        BX.UI.Notification.Center.notify({
            content: response.data.message,
            autoHideDelay: 3000
        });
        // –û–±–Ω–æ–≤–∏—Ç—å Grid
        location.reload();
    } else {
        BX.UI.Notification.Center.notify({
            content: '–û—à–∏–±–∫–∞: ' + response.data.error,
            autoHideDelay: 5000
        });
    }
});
```

**–û—Ç–≤–µ—Ç –ø—Ä–∏ —É—Å–ø–µ—Ö–µ:**
```json
{
    "success": true,
    "message": "–û—á–µ—Ä–µ–¥—å \"my_queue\" —É—Å–ø–µ—à–Ω–æ –æ—á–∏—â–µ–Ω–∞"
}
```

**–û—Ç–≤–µ—Ç –ø—Ä–∏ –æ—à–∏–±–∫–µ:**
```json
{
    "success": false,
    "error": "–û—à–∏–±–∫–∞ –æ—á–∏—Å—Ç–∫–∏ –æ—á–µ—Ä–µ–¥–∏: ..."
}
```

---

## –®–∞–±–ª–æ–Ω—ã

### template.php (–û—Å–Ω–æ–≤–Ω–æ–π —à–∞–±–ª–æ–Ω)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –®–∞–±–ª–æ–Ω —Å Grid —Å–∏—Å—Ç–µ–º–æ–π Bitrix

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `bitrix:main.ui.grid`
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ JavaScript –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ AJAX –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Grid —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```php
// 1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ JavaScript –±–∏–±–ª–∏–æ—Ç–µ–∫
Extension::load('main.grid');
Extension::load('ui.notification');

// 2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
if (!empty($arResult['ERROR'])) {
    // –ü–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É
}

// 3. –í—ã–≤–æ–¥ Grid
$APPLICATION->IncludeComponent('bitrix:main.ui.grid', '', [
    'GRID_ID' => $arResult['GRID_ID'],
    'COLUMNS' => $arResult['COLUMNS'],
    'ROWS' => $arResult['ROWS'],
    // ... –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
]);
```

**–ü–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- `$arResult['GRID_ID']` - ID Grid
- `$arResult['COLUMNS']` - –ú–∞—Å—Å–∏–≤ –∫–æ–ª–æ–Ω–æ–∫
- `$arResult['ROWS']` - –ú–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫
- `$arResult['TOTAL_COUNT']` - –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—á–µ—Ä–µ–¥–µ–π
- `$arResult['ERROR']` - –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ (–µ—Å–ª–∏ –µ—Å—Ç—å)

### template_simple.php (–ü—Ä–æ—Å—Ç–æ–π —à–∞–±–ª–æ–Ω)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–æ—Å—Ç–∞—è HTML —Ç–∞–±–ª–∏—Ü–∞ –±–µ–∑ Grid —Å–∏—Å—Ç–µ–º—ã

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ü—Ä–æ—Å—Ç–∞—è HTML —Ç–∞–±–ª–∏—Ü–∞
- –ë–∞–∑–æ–≤–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –ù–µ—Ç AJAX —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```php
<table class="ui-grid-table">
    <thead>
        <tr>
            <th>–ò–º—è –æ—á–µ—Ä–µ–¥–∏</th>
            <th>–¢–∏–ø</th>
            <th>–°—Ç–∞—Ç—É—Å</th>
            <!-- ... -->
        </tr>
    </thead>
    <tbody>
        <?php foreach ($arResult['QUEUES'] as $queue): ?>
            <tr>
                <td><?= $queue['name'] ?></td>
                <!-- ... -->
            </tr>
        <?php endforeach; ?>
    </tbody>
</table>
```

**–ü–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- `$arResult['QUEUES']` - –ú–∞—Å—Å–∏–≤ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –æ—á–µ—Ä–µ–¥–µ–π
- `$arResult['TOTAL_COUNT']` - –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
- `$arResult['ERROR']` - –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ

**–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö –æ—á–µ—Ä–µ–¥–∏:**
```php
[
    'name' => 'queue_name',
    'type' => '<span class="rmq-type">–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è</span>',
    'state' => '<span class="rmq-state">–ê–∫—Ç–∏–≤–Ω–∞</span>',
    'features' => '<span class="rmq-features">D, AD</span>',
    'messages_total' => '<span class="rmq-messages">100</span>',
    'messages_ready' => '<span class="rmq-messages">50</span>',
    'messages_unacked' => '<span class="rmq-messages">10</span>',
    'consumers' => 2,
    'node' => 'rabbit@node1',
    'memory' => '1.5 MB',
    'vhost' => '/',
]
```

---

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ AJAX –¥–µ–π—Å—Ç–≤–∏—è

1. **–î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ –≤ –∫–ª–∞—Å—Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:**
   ```php
   public function configureActions()
   {
       return [
           'purgeQueue' => [...],
           'newAction' => [
               'prefilters' => [
                   new ActionFilter\Authentication(),
                   new ActionFilter\Csrf(),
               ]
           ],
       ];
   }
   
   public function newActionAction(string $param): array
   {
       try {
           $apiClient = new RmqApiClient();
           // –õ–æ–≥–∏–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è
           
           return [
               'success' => true,
               'message' => '–î–µ–π—Å—Ç–≤–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ'
           ];
       } catch (RmqApiException $e) {
           return [
               'success' => false,
               'error' => $e->getMessage()
           ];
       }
   }
   ```

2. **–í—ã–∑–≤–∞—Ç—å –∏–∑ JavaScript:**
   ```javascript
   BX.ajax.runComponentAction('imena.rmq:queue.list', 'newAction', {
       data: { param: 'value' }
   });
   ```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –∫–æ–ª–æ–Ω–∫–∏ –≤ Grid

1. **–í –∫–ª–∞—Å—Å–µ `RmqQueueGrid`:**
   ```php
   // –í –º–µ—Ç–æ–¥–µ prepareColumns()
   $columns[] = [
       'id' => 'NEW_COLUMN',
       'name' => '–ù–æ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞',
       'sort' => 'new_column',
       'default' => true,
   ];
   ```

2. **–í –º–µ—Ç–æ–¥–µ `prepareRows()`:**
   ```php
   $row['columns']['NEW_COLUMN'] = $queue->newProperty;
   ```

### –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ —à–∞–±–ª–æ–Ω–∞

1. **–°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é:**
   ```bash
   mkdir -p templates/custom
   ```

2. **–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `template.php`:**
   ```php
   <?php
   if (!defined('B_PROLOG_INCLUDED') || B_PROLOG_INCLUDED !== true) {
       die();
   }
   ?>
   
   <div class="custom-rmq-queue-list">
       <!-- –í–∞—à –∫–∞—Å—Ç–æ–º–Ω—ã–π —à–∞–±–ª–æ–Ω -->
   </div>
   ```

3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
   ```php
   $APPLICATION->IncludeComponent(
       'imena.rmq:queue.list',
       'custom',
       [...]
   );
   ```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

**–í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ:**
```php
try {
    // –ö–æ–¥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
} catch (RmqApiException $e) {
    error_log('[RMQ Component] API Error: ' . $e->getMessage());
    $this->showError($e->getMessage());
} catch (\Exception $e) {
    error_log('[RMQ Component] Exception: ' . $e->getMessage());
    $this->showError('–ù–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞: ' . $e->getMessage());
}
```

**–í —à–∞–±–ª–æ–Ω–µ:**
```php
<?php if (!empty($arResult['ERROR'])): ?>
    <div class="ui-alert ui-alert-danger">
        <span class="ui-alert-message">
            <?= htmlspecialcharsbx($arResult['ERROR']) ?>
        </span>
    </div>
<?php endif; ?>
```

---

## –Ø–∑—ã–∫–æ–≤—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã

### –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (lang/ru/class.php)

| –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|-----------|----------|
| `IMENA_RMQ_QUEUE_COLUMN_NAME` | –ò–º—è –æ—á–µ—Ä–µ–¥–∏ |
| `IMENA_RMQ_QUEUE_COLUMN_TYPE` | –¢–∏–ø |
| `IMENA_RMQ_QUEUE_COLUMN_STATE` | –°—Ç–∞—Ç—É—Å |
| `IMENA_RMQ_QUEUE_COLUMN_FEATURES` | –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ |
| `IMENA_RMQ_QUEUE_COLUMN_MESSAGES` | –°–æ–æ–±—â–µ–Ω–∏–π |
| `IMENA_RMQ_QUEUE_COLUMN_CONSUMERS` | –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏ |
| `IMENA_RMQ_QUEUE_COLUMN_NODE` | –£–∑–µ–ª |
| `IMENA_RMQ_QUEUE_COLUMN_MEMORY` | –ü–∞–º—è—Ç—å |
| `IMENA_RMQ_QUEUE_ERROR_MODULE_NOT_INSTALLED` | –ú–æ–¥—É–ª—å imena.rmq –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω |
| `IMENA_RMQ_QUEUE_ERROR_API_CONNECTION` | –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ RabbitMQ API |
| `IMENA_RMQ_ROW_ACTION_PURGE_SUCCESS` | –û—á–µ—Ä–µ–¥—å "#QUEUE#" —É—Å–ø–µ—à–Ω–æ –æ—á–∏—â–µ–Ω–∞ |

---

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **–ú–æ–¥—É–ª—å:** `imena.rmq` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- **Bitrix24:** 20.0.0+
- **PHP:** 8.0+
- **RabbitMQ:** Management API –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω

---

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```php
<?php
$APPLICATION->IncludeComponent(
    'imena.rmq:queue.list',
    '',
    [
        'VHOST' => '/',
        'SHOW_EMPTY_QUEUES' => 'Y',
    ]
);
?>
```

### –ü—Ä–∏–º–µ—Ä 2: –° –∫–∞—Å—Ç–æ–º–Ω—ã–º Grid ID

```php
<?php
$APPLICATION->IncludeComponent(
    'imena.rmq:queue.list',
    '',
    [
        'VHOST' => '/production',
        'SHOW_EMPTY_QUEUES' => 'N',
        'GRID_ID' => 'RMQ_PRODUCTION_QUEUES',
        'PATH_TO_DETAIL' => '/rmq/queue/detail/?QUEUE=#QUEUE#',
    ]
);
?>
```

### –ü—Ä–∏–º–µ—Ä 3: –° –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º

```php
<?php
$APPLICATION->IncludeComponent(
    'imena.rmq:queue.list',
    '',
    [
        'VHOST' => '/',
        'CACHE_TIME' => 300, // 5 –º–∏–Ω—É—Ç
        'CACHE_TYPE' => 'A',
        'CACHE_GROUPS' => 'Y',
    ]
);
?>
```

---

## –û—Ç–ª–∞–¥–∫–∞

### –í–∫–ª—é—á–µ–Ω–∏–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

**–í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ:**
```php
error_log('[RMQ Component] Debug: ' . print_r($data, true));
```

**–í –±—Ä–∞—É–∑–µ—Ä–µ:**
```javascript
console.log('RMQ Component Debug:', data);
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ AJAX –∑–∞–ø—Ä–æ—Å–æ–≤

**–í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞:**
```javascript
// –ü–µ—Ä–µ—Ö–≤–∞—Ç AJAX –∑–∞–ø—Ä–æ—Å–æ–≤
BX.ajax.runComponentAction = (function(original) {
    return function(component, action, params) {
        console.log('AJAX Request:', component, action, params);
        return original.apply(this, arguments);
    };
})(BX.ajax.runComponentAction);
```

---

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
   - –ü—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –æ—á–µ—Ä–µ–¥–µ–π (>1000) –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
   - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ø–æ vhost

2. **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–∂–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –¥–∞–Ω–Ω—ã–µ
   - –î–ª—è real-time –¥–∞–Ω–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è `CACHE_TYPE = 'N'`

3. **AJAX –¥–µ–π—Å—Ç–≤–∏—è:**
   - –¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - CSRF –∑–∞—â–∏—Ç–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞

---

## –ò—Å—Ç–æ—Ä–∏—è –≤–µ—Ä—Å–∏–π

### –í–µ—Ä—Å–∏—è 1.0+ (25.01.2025)

**–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `queue.list` —Å Grid —Å–∏—Å—Ç–µ–º–æ–π
- ‚úÖ AJAX –¥–µ–π—Å—Ç–≤–∏–µ `purgeQueue`
- ‚úÖ –ü—Ä–æ—Å—Ç–∞—è –≤–µ—Ä—Å–∏—è –±–µ–∑ Grid
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ vhost
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—É—Å—Ç—ã—Ö –æ—á–µ—Ä–µ–¥–µ–π

---

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

**–ê–≤—Ç–æ—Ä:** #vlikhobabin@gmail.com

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –º–æ–¥—É–ª—è:** `/local/modules/imena.rmq/README.md`

**–õ–æ–≥–∏:**
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç: `error_log('[RMQ Component] ...')`
- API: —á–µ—Ä–µ–∑ `RmqApiClient`

---

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 25.01.2025*

