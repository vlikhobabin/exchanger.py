# Imena Tasks Templates Module

–ú–æ–¥—É–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–∞–º–∏ –∑–∞–¥–∞—á Camunda –≤ Bitrix24.

## üìã –û –º–æ–¥—É–ª–µ

**Imena Tasks Templates** - —ç—Ç–æ –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–∞–º–∏ –∑–∞–¥–∞—á —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Camunda BPM. –ú–æ–¥—É–ª—å —è–≤–ª—è–µ—Ç—Å—è **–ø–æ–ª–Ω–æ–π –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∫–æ–ø–∏–µ–π** —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ "–®–∞–±–ª–æ–Ω—ã –∑–∞–¥–∞—á" –ë–∏—Ç—Ä–∏–∫—Å24 —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ —Ç–∞–±–ª–∏—Ü–∞–º–∏ –ë–î, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –∏ API.

## üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

### –ò–¥–µ—è –ø—Ä–æ–µ–∫—Ç–∞

–ú–æ–¥—É–ª—å —Å–æ–∑–¥–∞–Ω –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –¥–≤—É—Ö —Ç–∏–ø–æ–≤ —à–∞–±–ª–æ–Ω–æ–≤ –∑–∞–¥–∞—á:

1. **–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã** (–Ω–µ–±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–ª—è –ø–æ—Ç–æ–∫–æ–≤/–ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á)
2. **Camunda —à–∞–±–ª–æ–Ω—ã** (3-5 —Ç—ã—Å. –∑–∞–ø–∏—Å–µ–π –¥–ª—è —ç—Ç–∞–ø–æ–≤ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤)

### –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ

- Camunda –ø—Ä–æ—Ü–µ—Å—Å—ã ‚Üí —ç—Ç–∞–ø—ã ‚Üí —à–∞–±–ª–æ–Ω—ã –∑–∞–¥–∞—á ‚Üí —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á –≤ –ë–∏—Ç—Ä–∏–∫—Å24
- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ BPM
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è BPMN-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤ —Å –∑–∞–¥–∞—á–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π Bitrix24
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —à–∞–±–ª–æ–Ω–æ–≤ –±–µ–∑ –≤–ª–∏—è–Ω–∏—è –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

## üìñ –û–ø–∏—Å–∞–Ω–∏–µ

–ú–æ–¥—É–ª—å `imena.tasks.templates` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–∞–º–∏ –∑–∞–¥–∞—á —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Camunda BPM. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞ D7 API –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–∏–Ω—Ü–∏–ø–∞—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ Bitrix24. –ú–æ–¥—É–ª—å –≤–∫–ª—é—á–∞–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞, ORM –∫–ª–∞—Å—Å—ã, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —Å–æ—Ü–∏–∞–ª—å–Ω–æ–π —Å–µ—Ç—å—é, Bitrix24 –∏ Intranet.

### –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **100% –∏–∑–æ–ª—è—Ü–∏—è**: –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –ë–î —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `b_imena_tasks_templates_`
- **D7 API**: –ü–æ–ª–Ω–æ—Å—Ç—å—é –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º Bitrix D7 ORM
- **PSR-4 Autoload**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–ª–∞—Å—Å–æ–≤ —á–µ—Ä–µ–∑ namespace
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –ì–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ —Å —Ç—ã—Å—è—á–∞–º–∏ –∑–∞–ø–∏—Å–µ–π
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏**: Bitrix24, Intranet, Social Network, User Fields
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–æ–ª–µ–π

## ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ **CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏**: –°–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤ –∑–∞–¥–∞—á
- ‚úÖ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏**: –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ, —Å–æ–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏, –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–∏
- ‚úÖ **–¢–µ–≥–∏ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —à–∞–±–ª–æ–Ω–æ–≤
- ‚úÖ **–ß–µ–∫-–ª–∏—Å—Ç—ã**: –ë–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Å –¥–µ—Ä–µ–≤–æ–º –∏ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏
- ‚úÖ **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞**: –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–æ–ª–µ–π –∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
- ‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏**: –°–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å–µ—Ç—å, Bitrix24, Intranet, User Fields
- ‚úÖ **Camunda –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø–æ–ª—è –¥–ª—è BPMN –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
- ‚úÖ **ORM D7**: –ü–æ–ª–Ω–æ—Å—Ç—å—é –æ—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º Bitrix ORM
- ‚úÖ **AJAX API**: –ì–æ—Ç–æ–≤—ã–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- ‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è —Ç—ã—Å—è—á –∑–∞–ø–∏—Å–µ–π

## üóÑÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ú–æ–¥—É–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `b_imena_tasks_templates_`:

1. **b_imena_tasks_templates** - –æ—Å–Ω–æ–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —à–∞–±–ª–æ–Ω–æ–≤
2. **b_imena_tasks_templates_member** - —É—á–∞—Å—Ç–Ω–∏–∫–∏ —à–∞–±–ª–æ–Ω–æ–≤
3. **b_imena_tasks_templates_tag** - —Ç–µ–≥–∏ —à–∞–±–ª–æ–Ω–æ–≤
4. **b_imena_tasks_templates_dependence** - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —à–∞–±–ª–æ–Ω–æ–≤
5. **b_imena_tasks_templates_permission** - –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
6. **b_imena_tasks_templates_scenario** - —Å—Ü–µ–Ω–∞—Ä–∏–∏ —à–∞–±–ª–æ–Ω–æ–≤
7. **b_imena_tasks_templates_chl_item** - —á–µ–∫-–ª–∏—Å—Ç—ã —à–∞–±–ª–æ–Ω–æ–≤
8. **b_imena_tasks_templates_chl_item_member** - —É—á–∞—Å—Ç–Ω–∏–∫–∏ —á–µ–∫-–ª–∏—Å—Ç–æ–≤
9. **b_imena_tasks_templates_chl_item_tree** - –¥–µ—Ä–µ–≤–æ —á–µ–∫-–ª–∏—Å—Ç–æ–≤
10. **b_imena_tasks_templates_dep** - –¥–µ—Ä–µ–≤–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
11. **b_imena_tasks_templates_access** - –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ (legacy)
12. **b_imena_tasks_templates_system_log** - —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ª–æ–≥–∏

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –º–æ–¥—É–ª–∏ Bitrix24:
- ‚úÖ `tasks` - –º–æ–¥—É–ª—å –∑–∞–¥–∞—á (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- ‚úÖ `main` - –±–∞–∑–æ–≤—ã–π –º–æ–¥—É–ª—å (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- ‚úÖ `ui` - –º–æ–¥—É–ª—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- ‚úÖ `socialnetwork` - —Å–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å–µ—Ç—å (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- ‚öôÔ∏è `intranet` - –∏–Ω—Ç—Ä–∞–Ω–µ—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- ‚öôÔ∏è `bitrix24` - Bitrix24 (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- PHP: **7.4+** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 8.0+)
- Bitrix: **20.0+** (D7 –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- MySQL: **5.7+** –∏–ª–∏ **8.0+**

### 2. –†–∞–∑–º–µ—â–µ–Ω–∏–µ –º–æ–¥—É–ª—è

–ú–æ–¥—É–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–∞–∑–º–µ—â–µ–Ω –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:
```
/local/modules/imena.tasks.templates/
```

**–í–∞–∂–Ω–æ:** –ú–æ–¥—É–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç D7 PSR-4 –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫—É —á–µ—Ä–µ–∑ namespace `Imena\Tasks\Templates`

### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—É—é –ø–∞–Ω–µ–ª—å

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—É—é –ø–∞–Ω–µ–ª—å Bitrix24
2. –û—Ç–∫—Ä–æ–π—Ç–µ: **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–¥—É–∫—Ç–∞ ‚Üí –ú–æ–¥—É–ª–∏**
3. –ù–∞–π–¥–∏—Ç–µ –º–æ–¥—É–ª—å **`imena.tasks.templates`**
4. –ù–∞–∂–º–∏—Ç–µ **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å**

### 4. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å

```bash
cd /path/to/bitrix

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–æ–¥—É–ª—è
php /local/modules/imena.tasks.templates/install/index.php

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
php /local/modules/imena.tasks.templates/install/index.php
```

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```php
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –º–æ–¥—É–ª—è
\Bitrix\Main\Loader::includeModule('imena.tasks.templates');

// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü
$result = \Imena\Tasks\Templates\Internals\TemplateTable::getList([
    'select' => ['ID'],
    'limit' => 1
]);

if ($result->getSelectedRowsCount() >= 0) {
    echo "‚úÖ –ú–æ–¥—É–ª—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ";
}
```

### 6. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ. –î–ª—è —Ä—É—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ: **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞**
2. –í—ã–±–µ—Ä–∏—Ç–µ –≥—Ä—É–ø–ø—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
3. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **–ó–∞–¥–∞—á–∏ ‚Üí –®–∞–±–ª–æ–Ω—ã Imena**
4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø—Ä–∞–≤–∞:
   - `template_read` - —á—Ç–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤
   - `template_create` - —Å–æ–∑–¥–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤
   - `template_edit` - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
   - `template_remove` - —É–¥–∞–ª–µ–Ω–∏–µ
   - `template_save` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ

### 7. –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

–î–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä—ë–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å –∏–Ω–¥–µ–∫—Å—ã:

```sql
-- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã
ALTER TABLE b_imena_tasks_templates 
    ADD INDEX idx_type_created (TEMPLATE_TYPE, CREATED_BY);
    
ALTER TABLE b_imena_tasks_templates 
    ADD INDEX idx_process_key (PROCESS_KEY);
    
-- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
ALTER TABLE b_imena_tasks_templates_member 
    ADD INDEX idx_user_type (USER_ID, TYPE);
    
-- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è —Ç–µ–≥–æ–≤
ALTER TABLE b_imena_tasks_templates_tag 
    ADD INDEX idx_name (NAME);
```

## üîß –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–ø–∏—Å–∫–∞ —à–∞–±–ª–æ–Ω–æ–≤

```php
<?php
$APPLICATION->IncludeComponent(
    'imena.tasks:templates.list',
    '',
    [
        'USER_ID' => $userId,
        'GRID_ID' => 'imena_templates_grid',
        'FILTER_ID' => 'imena_templates_filter',
    ]
);
?>
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞

```php
<?php
$APPLICATION->IncludeComponent(
    'imena.tasks:task.template',
    '',
    [
        'TEMPLATE_ID' => $templateId,
        'ACTION' => 'view',  // view, edit, create
        'USER_ID' => $userId,
    ]
);
?>
```

## üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª—è

### –û–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞—Ç–∞–ª–æ–≥–æ–≤

```
imena.tasks.templates/
‚îú‚îÄ‚îÄ lib/                                    # –û—Å–Ω–æ–≤–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –º–æ–¥—É–ª—è
‚îÇ   ‚îú‚îÄ‚îÄ ImenaTaskTemplates.php             # –ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å-–æ–±—ë—Ä—Ç–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ Util.php                            # –ë–∞–∑–æ–≤—ã–µ —É—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ Access/                             # –°–∏—Å—Ç–µ–º–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
‚îÇ   ‚îú‚îÄ‚îÄ Manager/                            # –ú–µ–Ω–µ–¥–∂–µ—Ä—ã –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ Internals/                          # ORM –∫–ª–∞—Å—Å—ã –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ Provider/                           # –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ Control/                            # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –æ–ø–µ—Ä–∞—Ü–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ Item/                               # –û–±—ä–µ–∫—Ç—ã –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ Integration/                        # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ Util/                               # –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ CheckList/                          # –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —á–µ–∫-–ª–∏—Å—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ Controller/                         # AJAX –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ Dispatcher/                         # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø—É–±–ª–∏—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ Service/                            # –°–µ—Ä–≤–∏—Å–Ω—ã–µ –∫–ª–∞—Å—Å—ã
‚îÇ
‚îú‚îÄ‚îÄ install/                                # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–æ–¥—É–ª—è
‚îÇ   ‚îú‚îÄ‚îÄ db/mysql/                          # SQL —Å–∫—Ä–∏–ø—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ components/                        # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ agents/                            # –ê–≥–µ–Ω—Ç—ã
‚îÇ
‚îú‚îÄ‚îÄ lang/                                   # –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è
‚îú‚îÄ‚îÄ include.php                            # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –º–æ–¥—É–ª—è
‚îú‚îÄ‚îÄ idea.md                                # –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ README.md                              # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

### –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ lib/

#### Access/ - –°–∏—Å—Ç–µ–º–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

```
Access/
‚îú‚îÄ‚îÄ TemplateAccessController.php           # –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
‚îú‚îÄ‚îÄ ImenaTemplateAccessController.php     # –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –¥–ª—è Imena
‚îú‚îÄ‚îÄ ActionDictionary.php                   # –°–ª–æ–≤–∞—Ä—å –¥–µ–π—Å—Ç–≤–∏–π (read, edit, remove, etc.)
‚îú‚îÄ‚îÄ AccessErrorable.php                    # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
‚îú‚îÄ‚îÄ AccessErrorTrait.php                   # –¢—Ä–µ–π—Ç –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
‚îú‚îÄ‚îÄ AccessibleTask.php                     # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–æ—Å—Ç—É–ø–Ω–æ–π –∑–∞–¥–∞—á–∏
‚îÇ
‚îú‚îÄ‚îÄ Model/                                 # –ú–æ–¥–µ–ª–∏ –¥–æ—Å—Ç—É–ø–∞
‚îÇ   ‚îú‚îÄ‚îÄ TemplateModel.php                 # –ú–æ–¥–µ–ª—å —à–∞–±–ª–æ–Ω–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤
‚îÇ   ‚îî‚îÄ‚îÄ UserModel.php                     # –ú–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤
‚îÇ
‚îú‚îÄ‚îÄ Rule/                                  # –ü—Ä–∞–≤–∏–ª–∞ –¥–æ—Å—Ç—É–ø–∞
‚îÇ   ‚îú‚îÄ‚îÄ TemplateReadRule.php             # –ü—Ä–∞–≤–∏–ª–æ —á—Ç–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–∞
‚îÇ   ‚îú‚îÄ‚îÄ TemplateEditRule.php             # –ü—Ä–∞–≤–∏–ª–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ TemplateCreateRule.php           # –ü—Ä–∞–≤–∏–ª–æ —Å–æ–∑–¥–∞–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ TemplateRemoveRule.php           # –ü—Ä–∞–≤–∏–ª–æ —É–¥–∞–ª–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ TemplateSaveRule.php             # –ü—Ä–∞–≤–∏–ª–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ Traits/
‚îÇ       ‚îî‚îÄ‚îÄ GroupTrait.php                # –¢—Ä–µ–π—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≥—Ä—É–ø–ø–∞–º–∏
‚îÇ
‚îú‚îÄ‚îÄ Permission/                            # –°–∏—Å—Ç–µ–º–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ PermissionDictionary.php         # –°–ª–æ–≤–∞—Ä—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ TasksTemplatePermissionTable.php # –¢–∞–±–ª–∏—Ü–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
‚îÇ
‚îî‚îÄ‚îÄ Role/                                  # –†–æ–ª–∏
    ‚îî‚îÄ‚îÄ RoleDictionary.php                # –°–ª–æ–≤–∞—Ä—å —Ä–æ–ª–µ–π
```

**–ö–ª—é—á–µ–≤—ã–µ –∫–ª–∞—Å—Å—ã:**
- `TemplateAccessController` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∫ —à–∞–±–ª–æ–Ω–∞–º
- `ActionDictionary` - –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–µ–π—Å—Ç–≤–∏–π: `ACTION_TEMPLATE_READ`, `ACTION_TEMPLATE_CREATE`, etc.
- `TemplateModel` - –º–æ–¥–µ–ª—å –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ –Ω–∞ —à–∞–±–ª–æ–Ω

#### Internals/ - ORM –∫–ª–∞—Å—Å—ã –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–∏

```
Internals/
‚îú‚îÄ‚îÄ TemplateTable.php                      # –û—Å–Ω–æ–≤–Ω–∞—è ORM —Ç–∞–±–ª–∏—Ü–∞ —à–∞–±–ª–æ–Ω–æ–≤
‚îú‚îÄ‚îÄ TemplateObject.php                     # –û–±—ä–µ–∫—Ç —à–∞–±–ª–æ–Ω–∞ (Entity)
‚îú‚îÄ‚îÄ Template.php                           # –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å —à–∞–±–ª–æ–Ω–∞
‚îú‚îÄ‚îÄ TemplateCollection.php                 # –ö–æ–ª–ª–µ–∫—Ü–∏—è —à–∞–±–ª–æ–Ω–æ–≤
‚îÇ
‚îú‚îÄ‚îÄ TemplateMemberTable.php                # –¢–∞–±–ª–∏—Ü–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
‚îú‚îÄ‚îÄ TemplateMemberObject.php               # –û–±—ä–µ–∫—Ç —É—á–∞—Å—Ç–Ω–∏–∫–∞
‚îú‚îÄ‚îÄ TemplateMemberCollection.php           # –ö–æ–ª–ª–µ–∫—Ü–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
‚îÇ
‚îú‚îÄ‚îÄ TemplateTagTable.php                   # –¢–∞–±–ª–∏—Ü–∞ —Ç–µ–≥–æ–≤
‚îú‚îÄ‚îÄ TemplateTagObject.php                  # –û–±—ä–µ–∫—Ç —Ç–µ–≥–∞
‚îÇ
‚îú‚îÄ‚îÄ TemplateDependenceTable.php            # –¢–∞–±–ª–∏—Ü–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
‚îú‚îÄ‚îÄ TemplateDependenceObject.php           # –û–±—ä–µ–∫—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ DependenceTable.php                    # –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
‚îÇ
‚îú‚îÄ‚îÄ ScenarioTable.php                      # –¢–∞–±–ª–∏—Ü–∞ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
‚îú‚îÄ‚îÄ SystemLogTable.php                     # –¢–∞–±–ª–∏—Ü–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ª–æ–≥–æ–≤
‚îú‚îÄ‚îÄ AccessTable.php                        # –¢–∞–±–ª–∏—Ü–∞ –ø—Ä–∞–≤ (legacy)
‚îÇ
‚îú‚îÄ‚îÄ CheckListTable.php                     # –¢–∞–±–ª–∏—Ü–∞ —á–µ–∫-–ª–∏—Å—Ç–æ–≤
‚îú‚îÄ‚îÄ CheckListObject.php                    # –û–±—ä–µ–∫—Ç —á–µ–∫-–ª–∏—Å—Ç–∞
‚îú‚îÄ‚îÄ CheckListCollection.php                # –ö–æ–ª–ª–µ–∫—Ü–∏—è —á–µ–∫-–ª–∏—Å—Ç–æ–≤
‚îú‚îÄ‚îÄ CheckListMemberTable.php               # –¢–∞–±–ª–∏—Ü–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —á–µ–∫-–ª–∏—Å—Ç–æ–≤
‚îú‚îÄ‚îÄ CheckListTreeTable.php                 # –¢–∞–±–ª–∏—Ü–∞ –¥–µ—Ä–µ–≤–∞ —á–µ–∫-–ª–∏—Å—Ç–æ–≤
‚îÇ
‚îú‚îÄ‚îÄ ReplicateParamsCorrector.php           # –ö–æ—Ä—Ä–µ–∫—Ç–æ—Ä –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏
‚îÇ
‚îú‚îÄ‚îÄ Template/                              # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã —à–∞–±–ª–æ–Ω–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ ImenaTemplateCheckListTable.php   # –ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ —á–µ–∫-–ª–∏—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ ImenaTemplateCheckListMemberTable.php
‚îÇ   ‚îî‚îÄ‚îÄ ImenaTemplateCheckListTree.php
‚îÇ
‚îú‚îÄ‚îÄ CheckList/                             # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã —á–µ–∫-–ª–∏—Å—Ç–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ MemberTable.php
‚îÇ
‚îî‚îÄ‚îÄ Routes/                                # –†–æ—É—Ç–∏–Ω–≥
    ‚îî‚îÄ‚îÄ RouteDictionary.php                # –°–ª–æ–≤–∞—Ä—å –º–∞—Ä—à—Ä—É—Ç–æ–≤
```

**–ö–ª—é—á–µ–≤—ã–µ –∫–ª–∞—Å—Å—ã:**
- `TemplateTable` - ORM –¥–ª—è `b_imena_tasks_templates` (40+ –ø–æ–ª–µ–π, –≤–∫–ª—é—á–∞—è –∫–∞—Å—Ç–æ–º–Ω—ã–µ –¥–ª—è Camunda)
- `TemplateObject` - –±–∏–∑–Ω–µ—Å-–æ–±—ä–µ–∫—Ç —à–∞–±–ª–æ–Ω–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —á–µ—Ä–µ–∑ Control
- `ScenarioTable` - —Å—Ü–µ–Ω–∞—Ä–∏–∏ —à–∞–±–ª–æ–Ω–æ–≤ (default, crm)
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Camunda: `TEMPLATE_TYPE`, `PROCESS_KEY`, `BPMN_XML`, etc.

#### Control/ - –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –æ–ø–µ—Ä–∞—Ü–∏–π

```
Control/
‚îú‚îÄ‚îÄ Template.php                           # –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —à–∞–±–ª–æ–Ω–æ–≤
‚îú‚îÄ‚îÄ BaseTemplateControlTrait.php           # –ë–∞–∑–æ–≤—ã–π —Ç—Ä–µ–π—Ç –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤
‚îÇ
‚îú‚îÄ‚îÄ TemplateMember.php                     # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
‚îú‚îÄ‚îÄ TemplateTag.php                        # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —Ç–µ–≥–æ–≤
‚îú‚îÄ‚îÄ TemplateDependence.php                 # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
‚îÇ
‚îú‚îÄ‚îÄ Handler/                               # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ–ª–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ TemplateFieldHandler.php          # –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–æ–ª–µ–π —Ñ–æ—Ä–º—ã
‚îÇ   ‚îî‚îÄ‚îÄ Exception/
‚îÇ       ‚îî‚îÄ‚îÄ TemplateFieldValidateException.php
‚îÇ
‚îî‚îÄ‚îÄ Exception/                             # –ò—Å–∫–ª—é—á–µ–Ω–∏—è –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤
    ‚îú‚îÄ‚îÄ TemplateAddException.php          # –û—à–∏–±–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
    ‚îú‚îÄ‚îÄ TemplateUpdateException.php       # –û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
    ‚îú‚îÄ‚îÄ TemplateNotFoundException.php     # –ù–µ –Ω–∞–π–¥–µ–Ω–æ
    ‚îú‚îÄ‚îÄ TemplateFieldValidateException.php # –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
    ‚îî‚îÄ‚îÄ UserFieldTemplateAddException.php # –û—à–∏–±–∫–∞ User Fields
```

**–ö–ª—é—á–µ–≤—ã–µ –∫–ª–∞—Å—Å—ã:**
- `Template::add()` - —Å–æ–∑–¥–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ —á–µ—Ä–µ–∑ ORM
- `Template::update()` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ ORM
- `Template::delete()` - —É–¥–∞–ª–µ–Ω–∏–µ
- `TemplateFieldHandler` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª–µ–π —Ñ–æ—Ä–º—ã

#### Provider/ - –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö

```
Provider/
‚îú‚îÄ‚îÄ TemplateProvider.php                   # –ü—Ä–æ–≤–∞–π–¥–µ—Ä –¥–∞–Ω–Ω—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤
‚îú‚îÄ‚îÄ ImenaTemplateProvider.php             # –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä –¥–ª—è Imena
‚îî‚îÄ‚îÄ UserProviderTrait.php                 # –¢—Ä–µ–π—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
```

**–ö–ª—é—á–µ–≤—ã–µ –∫–ª–∞—Å—Å—ã:**
- `TemplateProvider::getList()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π
- `TemplateProvider::getCount()` - –ø–æ–¥—Å—á—ë—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
- `ImenaTemplateProvider` - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä—ë–º–æ–≤

#### Manager/ - –ú–µ–Ω–µ–¥–∂–µ—Ä—ã –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏

```
Manager/
‚îú‚îÄ‚îÄ Manager.php                            # –ë–∞–∑–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä
‚îú‚îÄ‚îÄ ImenaTemplateManager.php              # –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä
‚îÇ
‚îî‚îÄ‚îÄ Task/                                  # –ú–µ–Ω–µ–¥–∂–µ—Ä—ã –∑–∞–¥–∞—á
    ‚îú‚îÄ‚îÄ Template.php                       # –ú–µ–Ω–µ–¥–∂–µ—Ä —à–∞–±–ª–æ–Ω–æ–≤
    ‚îú‚îÄ‚îÄ CheckList.php                      # –ú–µ–Ω–µ–¥–∂–µ—Ä —á–µ–∫-–ª–∏—Å—Ç–æ–≤
    ‚îÇ
    ‚îî‚îÄ‚îÄ Template/                          # –°—É–±—Å—É—â–Ω–æ—Å—Ç–∏ —à–∞–±–ª–æ–Ω–æ–≤
        ‚îú‚îÄ‚îÄ Responsible.php                # –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π
        ‚îú‚îÄ‚îÄ Accomplice.php                 # –°–æ–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å
        ‚îú‚îÄ‚îÄ Auditor.php                    # –ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å
        ‚îú‚îÄ‚îÄ Originator.php                 # –ü–æ—Å—Ç–∞–Ω–æ–≤—â–∏–∫
        ‚îú‚îÄ‚îÄ Project.php                    # –ü—Ä–æ–µ–∫—Ç
        ‚îú‚îÄ‚îÄ ParentTask.php                 # –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –∑–∞–¥–∞—á–∞
        ‚îú‚îÄ‚îÄ RelatedTask.php                # –°–≤—è–∑–∞–Ω–Ω–∞—è –∑–∞–¥–∞—á–∞
        ‚îú‚îÄ‚îÄ Tag.php                        # –¢–µ–≥
        ‚îú‚îÄ‚îÄ SubEntity.php                  # –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å —Å—É–±—Å—É—â–Ω–æ—Å—Ç–µ–π
        ‚îî‚îÄ‚îÄ CheckList.php                  # –ß–µ–∫-–ª–∏—Å—Ç
```

**–ö–ª—é—á–µ–≤—ã–µ –∫–ª–∞—Å—Å—ã:**
- `ImenaTemplateManager` - –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å —à–∞–±–ª–æ–Ω–∞–º–∏
- `Template` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º —à–∞–±–ª–æ–Ω–∞

#### Item/ - –û–±—ä–µ–∫—Ç—ã –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏

```
Item/
‚îú‚îÄ‚îÄ Task/
‚îÇ   ‚îî‚îÄ‚îÄ Template.php                       # –ë–∏–∑–Ω–µ—Å-–æ–±—ä–µ–∫—Ç —à–∞–±–ª–æ–Ω–∞ –∑–∞–¥–∞—á–∏
‚îÇ
‚îî‚îÄ‚îÄ Converter/                             # –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä—ã
    ‚îî‚îÄ‚îÄ Task/
        ‚îî‚îÄ‚îÄ Template/
            ‚îî‚îÄ‚îÄ ToTemplate.php             # –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä –≤ —à–∞–±–ª–æ–Ω
```

**–ö–ª—é—á–µ–≤—ã–µ –∫–ª–∞—Å—Å—ã:**
- `Item\Task\Template` - –±–∏–∑–Ω–µ—Å-–æ–±—ä–µ–∫—Ç —Å –º–µ—Ç–æ–¥–∞–º–∏ `save()`, `load()`, `delete()`

#### CheckList/ - –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —á–µ–∫-–ª–∏—Å—Ç–æ–≤

```
CheckList/
‚îî‚îÄ‚îÄ Template/                              # –ß–µ–∫-–ª–∏—Å—Ç—ã —à–∞–±–ª–æ–Ω–æ–≤
    ‚îú‚îÄ‚îÄ TemplateCheckListFacade.php       # –§–∞—Å–∞–¥ —á–µ–∫-–ª–∏—Å—Ç–æ–≤
    ‚îú‚îÄ‚îÄ ImenaTemplateCheckListFacade.php  # –ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞—Å–∞–¥
    ‚îú‚îÄ‚îÄ TemplateCheckListTree.php         # –î–µ—Ä–µ–≤–æ —á–µ–∫-–ª–∏—Å—Ç–æ–≤
    ‚îî‚îÄ‚îÄ TemplateCheckListConverterHelper.php # –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä —á–µ–∫-–ª–∏—Å—Ç–æ–≤
```

**–ö–ª—é—á–µ–≤—ã–µ –∫–ª–∞—Å—Å—ã:**
- `TemplateCheckListFacade::merge()` - –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —á–µ–∫-–ª–∏—Å—Ç–æ–≤
- `TemplateCheckListTree` - —Ä–∞–±–æ—Ç–∞ —Å –∏–µ—Ä–∞—Ä—Ö–∏–µ–π

#### Integration/ - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏

```
Integration/
‚îú‚îÄ‚îÄ Integration.php                        # –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π
‚îú‚îÄ‚îÄ Dispatcher.php                         # –î–∏—Å–ø–µ—Ç—á–µ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π
‚îÇ
‚îú‚îÄ‚îÄ Bitrix24/                              # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Bitrix24
‚îÇ   ‚îú‚îÄ‚îÄ FeatureDictionary.php             # –°–ª–æ–≤–∞—Ä—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ Limit/
‚îÇ       ‚îî‚îÄ‚îÄ TaskLimit.php                 # –õ–∏–º–∏—Ç—ã –∑–∞–¥–∞—á
‚îÇ
‚îú‚îÄ‚îÄ Intranet/                              # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Intranet
‚îÇ   ‚îî‚îÄ‚îÄ Settings.php                      # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Intranet
‚îÇ
‚îú‚îÄ‚îÄ SocialNetwork/                         # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–æ—Ü–∏–∞–ª—å–Ω–æ–π —Å–µ—Ç—å—é
‚îÇ   ‚îú‚îÄ‚îÄ Group.php                         # –ì—Ä—É–ø–ø—ã
‚îÇ   ‚îî‚îÄ‚îÄ User.php                          # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
‚îÇ
‚îú‚îÄ‚îÄ UserField/                             # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø–æ–ª—è
‚îÇ   ‚îî‚îÄ‚îÄ TemplateUserField.php            # UF –¥–ª—è —à–∞–±–ª–æ–Ω–æ–≤
‚îÇ
‚îú‚îÄ‚îÄ Notification/                          # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ TemplateNotification.php         # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —à–∞–±–ª–æ–Ω–∞—Ö
‚îÇ
‚îî‚îÄ‚îÄ Event/                                 # –°–æ–±—ã—Ç–∏—è
    ‚îî‚îÄ‚îÄ TemplateEvent.php                 # –°–æ–±—ã—Ç–∏—è —à–∞–±–ª–æ–Ω–æ–≤
```

#### Util/ - –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã

```
Util/
‚îú‚îÄ‚îÄ TemplateUser.php                       # –†–∞–±–æ—Ç–∞ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
‚îú‚îÄ‚îÄ TemplateUrl.php                        # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è URL
‚îú‚îÄ‚îÄ TemplateCollection.php                 # –ö–æ–ª–ª–µ–∫—Ü–∏–∏
‚îú‚îÄ‚îÄ TemplateLogger.php                     # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ TemplateCache.php                      # –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ TemplateAssert.php                     # –ü—Ä–æ–≤–µ—Ä–∫–∏ –∏ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
‚îú‚îÄ‚îÄ TemplateDate.php                       # –†–∞–±–æ—Ç–∞ —Å –¥–∞—Ç–∞–º–∏
‚îú‚îÄ‚îÄ TemplateValidator.php                  # –í–∞–ª–∏–¥–∞—Ç–æ—Ä—ã
‚îú‚îÄ‚îÄ TemplateResult.php                     # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–ø–µ—Ä–∞—Ü–∏–π
‚îú‚îÄ‚îÄ TemplateType.php                       # –†–∞–±–æ—Ç–∞ —Å —Ç–∏–ø–∞–º–∏
‚îú‚îÄ‚îÄ Type.php                               # –ë–∞–∑–æ–≤—ã–µ —Ç–∏–ø—ã
‚îÇ
‚îú‚îÄ‚îÄ UserField/                             # UF —É—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ TemplateUserField.php             # –†–∞–±–æ—Ç–∞ —Å UF –ø–æ–ª—è–º–∏
‚îÇ
‚îî‚îÄ‚îÄ Restriction/                           # –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
    ‚îî‚îÄ‚îÄ TemplateRestriction.php           # –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
```

#### Controller/ - AJAX –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã

```
Controller/
‚îî‚îÄ‚îÄ TemplateController.php                 # AJAX –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
```

**–ú–µ—Ç–æ–¥—ã:**
- `listAction()` - —Å–ø–∏—Å–æ–∫ —á–µ—Ä–µ–∑ AJAX
- `getAction()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ AJAX
- `addAction()` - —Å–æ–∑–¥–∞–Ω–∏–µ —á–µ—Ä–µ–∑ AJAX
- `updateAction()` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ AJAX

#### Dispatcher/ - –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø—É–±–ª–∏—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π

```
Dispatcher/
‚îî‚îÄ‚îÄ PublicAction/                          # –ü—É–±–ª–∏—á–Ω—ã–µ AJAX –¥–µ–π—Å—Ç–≤–∏—è
    ‚îî‚îÄ‚îÄ Task/
        ‚îî‚îÄ‚îÄ Template.php                   # AJAX –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —à–∞–±–ª–æ–Ω–æ–≤
```

#### Service/ - –°–µ—Ä–≤–∏—Å–Ω—ã–µ –∫–ª–∞—Å—Å—ã

```
Service/
‚îî‚îÄ‚îÄ TemplateService.php                    # –°–µ—Ä–≤–∏—Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
```

### –ü–æ–¥—Å—á—ë—Ç —Ñ–∞–π–ª–æ–≤

–í—Å–µ–≥–æ –≤ –º–æ–¥—É–ª–µ: **107 PHP —Ñ–∞–π–ª–æ–≤** –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ `lib/`

**–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –ø–æ–¥—Å–∏—Å—Ç–µ–º–∞–º:**
- **Access/** - 16 —Ñ–∞–π–ª–æ–≤ (—Å–∏—Å—Ç–µ–º–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞)
- **Internals/** - 31 —Ñ–∞–π–ª (ORM –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–∏)
- **Control/** - 9 —Ñ–∞–π–ª–æ–≤ (–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –æ–ø–µ—Ä–∞—Ü–∏–π)
- **Integration/** - 17 —Ñ–∞–π–ª–æ–≤ (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏)
- **Manager/** - 13 —Ñ–∞–π–ª–æ–≤ (–º–µ–Ω–µ–¥–∂–µ—Ä—ã –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏)
- **Util/** - 14 —Ñ–∞–π–ª–æ–≤ (—É—Ç–∏–ª–∏—Ç—ã)
- **Item/** - 2 —Ñ–∞–π–ª–∞ (–±–∏–∑–Ω–µ—Å-–æ–±—ä–µ–∫—Ç—ã)
- **Provider/** - 3 —Ñ–∞–π–ª–∞ (–ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö)
- **CheckList/** - 4 —Ñ–∞–π–ª–∞ (—á–µ–∫-–ª–∏—Å—Ç—ã)
- **Controller/** - 1 —Ñ–∞–π–ª (AJAX)
- **Dispatcher/** - 1 —Ñ–∞–π–ª (–ø—É–±–ª–∏—á–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è)
- **Service/** - 1 —Ñ–∞–π–ª (—Å–µ—Ä–≤–∏—Å—ã)
- **Root** - 2 —Ñ–∞–π–ª–∞ (ImenaTaskTemplates.php, Util.php)

## üîå –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Camunda

–ú–æ–¥—É–ª—å –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —à–∞–±–ª–æ–Ω–∞–º–∏ –∑–∞–¥–∞—á Camunda. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑:

1. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ Camunda —Å —à–∞–±–ª–æ–Ω–∞–º–∏**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤ –∏–∑ BPMN-–¥–∏–∞–≥—Ä–∞–º–º
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
   - –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤

2. **–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á –Ω–∞ –æ—Å–Ω–æ–≤–µ —à–∞–±–ª–æ–Ω–æ–≤ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤**
   - –¢—Ä–∏–≥–≥–µ—Ä—ã —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á –∏–∑ Camunda
   - –ü—Ä–∏–≤—è–∑–∫–∞ –∫ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞–º –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
   - –ü–µ—Ä–µ–¥–∞—á–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –¥–ª—è –æ–±–æ–≥–∞—â–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–æ–≤**
   - –•—Ä–∞–Ω–µ–Ω–∏–µ BPMN XML
   - Process Keys –∏ Names
   - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–æ–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –¥–ª—è Camunda

–¢–∞–±–ª–∏—Ü–∞ `b_imena_tasks_templates` —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø–æ–ª—è:

```php
// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ TemplateTable.php
new StringField('TEMPLATE_TYPE', ['default_value' => 'camunda']),
new TextField('BPMN_XML'),           // BPMN –¥–∏–∞–≥—Ä–∞–º–º–∞
new TextField('CAMUNDA_CONFIG'),     // JSON –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
new StringField('PROCESS_KEY'),      // Key –ø—Ä–æ—Ü–µ—Å—Å–∞ Camunda
new StringField('PROCESS_NAME'),     // –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞
new IntegerField('VERSION'),         // –í–µ—Ä—Å–∏—è —à–∞–±–ª–æ–Ω–∞
new TextField('METADATA'),           // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
```

## üé® –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

1. **–ú–Ω–æ–≥–æ—Å–ª–æ–π–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**
   - **Internals/** - —É—Ä–æ–≤–µ–Ω—å –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º (ORM)
   - **Control/** - —É—Ä–æ–≤–µ–Ω—å –±–∏–∑–Ω–µ—Å-–æ–ø–µ—Ä–∞—Ü–∏–π
   - **Manager/** - —É—Ä–æ–≤–µ–Ω—å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
   - **Item/** - —É—Ä–æ–≤–µ–Ω—å –±–∏–∑–Ω–µ—Å-–æ–±—ä–µ–∫—Ç–æ–≤
   - **Controller/** - —É—Ä–æ–≤–µ–Ω—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è

2. **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏**
   - –ö–∞–∂–¥—ã–π –∫–ª–∞—Å—Å –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ–¥–Ω—É –∑–æ–Ω—É –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç—Ä–µ–π—Ç–æ–≤ –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞
   - –ß—ë—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π –∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤

3. **D7 —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã**
   - PSR-4 –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞
   - –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
   - ORM –≤–º–µ—Å—Ç–æ SQL
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Result –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

### –¶–µ–ø–æ—á–∫–∞ –≤—ã–∑–æ–≤–æ–≤

```
Component (AJAX) 
    ‚Üì
Controller (TemplateController)
    ‚Üì
Manager (ImenaTemplateManager)
    ‚Üì
Control (Template)
    ‚Üì
ORM (TemplateObject -> save())
    ‚Üì
Database (b_imena_tasks_templates)
```

### –ü–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö

**1. –°–æ–∑–¥–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞:**
```
–§–æ—Ä–º–∞ ‚Üí Controller::addAction() 
     ‚Üí Control::Template::add()
     ‚Üí TemplateFieldHandler (–≤–∞–ª–∏–¥–∞—Ü–∏—è)
     ‚Üí TemplateObject::save()
     ‚Üí ORM Insert
     ‚Üí setMembers() ‚Üí setTags() ‚Üí setDependencies()
```

**2. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞:**
```
Component ‚Üí Provider::getList()
        ‚Üí TemplateProvider::buildQuery()
        ‚Üí SQL —Å JOIN –Ω–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤/—Ç–µ–≥–∏
        ‚Üí TemplateAccessController (–ø—Ä–∞–≤–∞)
        ‚Üí Format Results
```

**3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤:**
```
User Action ‚Üí TemplateAccessController::check()
          ‚Üí Role Rules
          ‚Üí TemplateModel (–∑–∞–≥—Ä—É–∑–∫–∞ —à–∞–±–ª–æ–Ω–∞)
          ‚Üí Permission Check
          ‚Üí Boolean Result
```

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ —á–µ—Ä–µ–∑ API

```php
use Imena\Tasks\Templates\Control\Template;

$manager = new Template($userId);

$fields = [
    'TITLE' => '–®–∞–±–ª–æ–Ω –ø—Ä–æ—Ü–µ—Å—Å–∞ onboarding',
    'DESCRIPTION' => '–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –Ω–æ–≤–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞',
    'RESPONSIBLES' => ['U1' => 1],
    'CREATED_BY' => $userId,
    'GROUP_ID' => 0,
    'REPLICATE' => 'N',
    
    // Camunda –ø–æ–ª—è
    'TEMPLATE_TYPE' => 'camunda',
    'PROCESS_KEY' => 'onboarding_process',
    'PROCESS_NAME' => 'Onboarding New Employee',
    'VERSION' => 1,
    'BPMN_XML' => file_get_contents('onboarding.bpmn'),
];

$template = $manager->add($fields);
$templateId = $template->getId();

echo "–°–æ–∑–¥–∞–Ω —à–∞–±–ª–æ–Ω ID: {$templateId}";
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π

```php
use Imena\Tasks\Templates\Provider\TemplateProvider;

$provider = new TemplateProvider($DB, $USER_FIELD_MANAGER);

$order = ['ID' => 'DESC'];
$filter = [
    'TEMPLATE_TYPE' => 'camunda',
    'CREATED_BY' => $userId,
];
$select = ['ID', 'TITLE', 'PROCESS_KEY', 'VERSION'];
$params = ['USER_ID' => $userId];

$result = $provider->getList($order, $filter, $select, $params);

while ($row = $result->Fetch()) {
    echo "Template: {$row['TITLE']}\n";
    echo "Process: {$row['PROCESS_KEY']}\n";
    echo "Version: {$row['VERSION']}\n\n";
}
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

```php
use Imena\Tasks\Templates\Access\TemplateAccessController;
use Imena\Tasks\Templates\Access\ActionDictionary;

// –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥ –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
if (TemplateAccessController::can($userId, ActionDictionary::ACTION_TEMPLATE_EDIT, $templateId)) {
    // –†–∞–∑—Ä–µ—à–µ–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
    $manager = new \Imena\Tasks\Templates\Control\Template($userId);
    $template = $manager->update($templateId, $fields);
} else {
    // –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω
    throw new \Exception('Access denied');
}
```

### –†–∞–±–æ—Ç–∞ —Å —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏

```php
use Imena\Tasks\Templates\Control\TemplateMember;

$memberController = new TemplateMember($userId);

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
$memberController->add($templateId, [
    'TYPE' => 'R',  // R - Responsible, A - Accomplice, U - Auditor
    'USER_ID' => $newUserId
]);

// –£–¥–∞–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞
$memberController->delete($templateId, $userId);
```

### –†–∞–±–æ—Ç–∞ —Å —á–µ–∫-–ª–∏—Å—Ç–∞–º–∏

```php
use Imena\Tasks\Templates\CheckList\Template\TemplateCheckListFacade;

// –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —á–µ–∫-–ª–∏—Å—Ç–æ–≤
$items = [
    ['TITLE' => '–®–∞–≥ 1', 'CHECKED' => 0],
    ['TITLE' => '–®–∞–≥ 2', 'CHECKED' => 0],
    ['TITLE' => '–®–∞–≥ 3', 'CHECKED' => 0],
];

TemplateCheckListFacade::merge($templateId, $userId, $items);
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Item Object

```php
use Imena\Tasks\Templates\Item\Task\Template;

// –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —à–∞–±–ª–æ–Ω–∞
$template = new Template(0, $userId);
$template->setData([
    'TITLE' => '–ù–æ–≤—ã–π —à–∞–±–ª–æ–Ω —á–µ—Ä–µ–∑ Item',
    'RESPONSIBLE_ID' => 1,
]);
$template->save();
$templateId = $template->getId();

// –ó–∞–≥—Ä—É–∑–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ
$template = new Template($templateId, $userId);
$data = $template->getData();
echo $data['TITLE'];

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
$template->setField('DESCRIPTION', '–û–±–Ω–æ–≤–ª—ë–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ');
$template->save();
```

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü

#### –û—Å–Ω–æ–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞: `b_imena_tasks_templates`

```sql
CREATE TABLE b_imena_tasks_templates (
    ID INT(11) NOT NULL AUTO_INCREMENT,
    TITLE VARCHAR(255),
    DESCRIPTION TEXT,
    PRIORITY CHAR(1) DEFAULT '1',
    STATUS CHAR(1) DEFAULT '1',
    RESPONSIBLE_ID INT(11),
    CREATED_BY INT(11),
    
    -- Camunda —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
    TEMPLATE_TYPE VARCHAR(50) DEFAULT 'camunda',
    BPMN_XML TEXT,
    CAMUNDA_CONFIG TEXT,
    PROCESS_KEY VARCHAR(255),
    PROCESS_NAME VARCHAR(255),
    VERSION INT(11),
    METADATA TEXT,
    
    -- –°–∏—Å—Ç–µ–º–Ω—ã–µ –ø–æ–ª—è
    CREATED_DATE DATETIME,
    UPDATED_DATE DATETIME,
    
    PRIMARY KEY (ID),
    INDEX idx_type (TEMPLATE_TYPE),
    INDEX idx_process_key (PROCESS_KEY),
    INDEX idx_created_by (CREATED_BY)
);
```

**–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Ç–∞–±–ª–∏—Ü:** —Å–º. —Ä–∞–∑–¥–µ–ª "–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö" –≤—ã—à–µ.

### –ú–∞–ø–ø–∏–Ω–≥ –ø–æ–ª–µ–π

| –ü–æ–ª–µ –ë–î | –¢–∏–ø | ORM Field | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|---------|-----|-----------|-----------|
| `ID` | INT | IntegerField | –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á |
| `TITLE` | VARCHAR(255) | StringField | –ù–∞–∑–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ |
| `DESCRIPTION` | TEXT | TextField | –û–ø–∏—Å–∞–Ω–∏–µ |
| `TEMPLATE_TYPE` | VARCHAR(50) | StringField | –¢–∏–ø —à–∞–±–ª–æ–Ω–∞ (camunda/standard) |
| `PROCESS_KEY` | VARCHAR(255) | StringField | –ö–ª—é—á –ø—Ä–æ—Ü–µ—Å—Å–∞ Camunda |
| `BPMN_XML` | TEXT | TextField | BPMN –¥–∏–∞–≥—Ä–∞–º–º–∞ |
| `VERSION` | INT | IntegerField | –í–µ—Ä—Å–∏—è —à–∞–±–ª–æ–Ω–∞ |

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –°–∏—Å—Ç–µ–º–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

–ú–æ–¥—É–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—É—é —Å–∏—Å—Ç–µ–º—É –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤:

1. **–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –¥–æ—Å—Ç—É–ø–∞**: `TemplateAccessController`
2. **–ú–æ–¥–µ–ª–∏ –¥–æ—Å—Ç—É–ø–∞**: `TemplateModel`, `UserModel`
3. **–ü—Ä–∞–≤–∏–ª–∞ –¥–æ—Å—Ç—É–ø–∞**: Rule –∫–ª–∞—Å—Å—ã (Read, Edit, Create, Remove)
4. **–†–∞–∑—Ä–µ—à–µ–Ω–∏—è**: `PermissionDictionary`
5. **–†–æ–ª–∏**: `RoleDictionary`

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î

```php
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ø—Ä–∞–≤–∞–º –≤ Provider
$provider = new TemplateProvider($DB, $USER_FIELD_MANAGER);
$result = $provider->getList(...); // –†–µ–∑—É–ª—å—Ç–∞—Ç —É–∂–µ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –ø–µ—Ä–µ–¥ –æ–ø–µ—Ä–∞—Ü–∏–µ–π
if (!TemplateAccessController::can($userId, ActionDictionary::ACTION_TEMPLATE_EDIT, $templateId)) {
    throw new AccessDeniedException();
}
```

### –ó–∞—â–∏—Ç–∞ –æ—Ç SQL Injection

- –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ ORM (–ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `QueryBuilder` –≤–º–µ—Å—Ç–æ –ø—Ä—è–º–æ–≥–æ SQL
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ `TemplateFieldHandler`

## ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä—ë–º–æ–≤

1. **–ò–Ω–¥–µ–∫—Å—ã –ë–î**
   ```sql
   CREATE INDEX idx_type_created ON b_imena_tasks_templates(TEMPLATE_TYPE, CREATED_BY);
   CREATE INDEX idx_process_key ON b_imena_tasks_templates(PROCESS_KEY);
   CREATE INDEX idx_user_type ON b_imena_tasks_templates_member(USER_ID, TYPE);
   ```

2. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**
   ```php
   // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫—ç—à–∞ –¥–ª—è —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö
   $cache = new TemplateCache();
   $templates = $cache->remember('templates_list_' . $userId, function() {
       return TemplateProvider::getList(...);
   });
   ```

3. **–ü–∞–≥–∏–Ω–∞—Ü–∏—è**
   ```php
   // –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–∏–º–∏—Ç—ã –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–ø–∏—Å–∫–æ–≤
   $result = $provider->getList(
       ['ID' => 'DESC'],
       ['TEMPLATE_TYPE' => 'camunda'],
       ['ID', 'TITLE'],
       [],
       ['nPageSize' => 50]  // –õ–∏–º–∏—Ç 50 –∑–∞–ø–∏—Å–µ–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
   );
   ```

4. **Batch –æ–ø–µ—Ä–∞—Ü–∏–∏**
   ```php
   // –ì—Ä—É–ø–ø–æ–≤–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
   $members = TemplateMemberTable::getList([
       'filter' => ['TEMPLATE_ID' => $templateIds],
       'select' => ['*']
   ])->fetchAll();
   ```

## üêõ –û—Ç–ª–∞–¥–∫–∞ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –í–∫–ª—é—á–µ–Ω–∏–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

```php
use Imena\Tasks\Templates\Util\TemplateLogger;

// –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π
TemplateLogger::log($message, 'INFO');
TemplateLogger::error($message);
TemplateLogger::warning($message);
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—à–∏–±–æ–∫

```php
// –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç Result
$result = $manager->add($fields);

if (!$result->isSuccess()) {
    // –ü–æ–ª—É—á–∏—Ç—å –æ—à–∏–±–∫–∏
    $errors = $result->getErrors();
    foreach ($errors as $error) {
        echo $error->getMessage() . "\n";
    }
}
```

### Debug —Ä–µ–∂–∏–º

```php
// –í–∫–ª—é—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
\Bitrix\Main\Config\Configuration::setValue('value', true);
ini_set('display_errors', 1);
error_reporting(E_ALL);
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ú–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã

–°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç—ã –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `/tests/`:

```php
<?php
namespace Tests\Unit;

use PHPUnit\Framework\TestCase;
use Imena\Tasks\Templates\Control\Template;

class TemplateTest extends TestCase
{
    public function testCreateTemplate()
    {
        $manager = new Template(1);
        $template = $manager->add([
            'TITLE' => 'Test Template',
            'RESPONSIBLE_ID' => 1,
        ]);
        
        $this->assertNotNull($template->getId());
        $this->assertEquals('Test Template', $template->getTitle());
    }
}
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **[idea.md](./idea.md)** - –î–µ—Ç–∞–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **./install/db/mysql/** - SQL —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü
- **./lang/** - –§–∞–π–ª—ã –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏

### –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Bitrix24 D7 ORM Documentation](https://dev.1c-bitrix.ru/api_d7/bitrix/main/orm/)
- [Bitrix24 Access Control](https://dev.1c-bitrix.ru/api_d7/bitrix/main/access/)
- [Camunda BPM Documentation](https://docs.camunda.org/)

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏–∏

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ö–µ–º—ã –ë–î

```php
// –°–æ–∑–¥–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏
class Migration_20240125_100000_add_camunda_fields extends \Bitrix\Main\DB\SqlMigration
{
    public function up()
    {
        $connection = \Bitrix\Main\Application::getConnection();
        
        $connection->query("
            ALTER TABLE b_imena_tasks_templates
            ADD COLUMN NEW_FIELD VARCHAR(255) AFTER TEMPLATE_TYPE
        ");
    }
    
    public function down()
    {
        $connection = \Bitrix\Main\Application::getConnection();
        $connection->query("ALTER TABLE b_imena_tasks_templates DROP COLUMN NEW_FIELD");
    }
}
```

## üìù –ß–µ–∫-–ª–∏—Å—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ —É–±–µ–¥–∏—Ç–µ—Å—å:

- [ ] –ö–ª–∞—Å—Å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º namespace `Imena\Tasks\Templates\...`
- [ ] –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è D7 ORM –≤–º–µ—Å—Ç–æ –ø—Ä—è–º—ã—Ö SQL –∑–∞–ø—Ä–æ—Å–æ–≤
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
- [ ] –°–æ–∑–¥–∞–Ω—ã unit-—Ç–µ—Å—Ç—ã
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∞ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è (–µ—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ)
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è README.md
- [ ] –ö–æ–¥ —Å–ª–µ–¥—É–µ—Ç PSR-12 —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É
- [ ] –í—Å–µ –º–µ—Ç–æ–¥—ã –∏–º–µ—é—Ç PHPDoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `/upload/logs/imena.tasks.templates.log`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –º–æ–¥—É–ª—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: `\Bitrix\Main\Loader::includeModule('imena.tasks.templates')`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –ë–î
4. –í–∫–ª—é—á–∏—Ç–µ debug —Ä–µ–∂–∏–º –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω—ã—Ö –æ—à–∏–±–æ–∫

**–ö–æ–Ω—Ç–∞–∫—Ç—ã:** –∫–æ–º–∞–Ω–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ Imena

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–æ–¥—É–ª—è

- **–í—Å–µ–≥–æ –∫–ª–∞—Å—Å–æ–≤**: 107 PHP —Ñ–∞–π–ª–æ–≤
- **–¢–∞–±–ª–∏—Ü –ë–î**: 12 —Ç–∞–±–ª–∏—Ü
- **–ü–æ–¥—Å–∏—Å—Ç–µ–º**: 13 –æ—Å–Ω–æ–≤–Ω—ã—Ö
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞**: ~15,000+ LOC
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —è–∑—ã–∫–æ–≤**: RU, EN

## üìÖ –•—Ä–æ–Ω–æ–ª–æ–≥–∏—è –≤–µ—Ä—Å–∏–π

### 1.0.0 (2024-01-25)
- ‚ú® –ù–∞—á–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è –º–æ–¥—É–ª—è
- ‚úÖ –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å CRUD
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —Å–æ—Ü–∏–∞–ª—å–Ω–æ–π —Å–µ—Ç—å—é –∏ Bitrix24
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Camunda –ø–æ–ª–µ–π
- ‚úÖ ORM D7 —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- ‚úÖ –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –æ–ø–µ—Ä–∞—Ü–∏–π

## üë• –ê–≤—Ç–æ—Ä—ã

- **Imena Development Team** - —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –º–æ–¥—É–ª—è
- **vlikhobabin@gmail.com** - –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–ø—Ä–∏–µ—Ç–∞—Ä–Ω–∞—è –ª–∏—Ü–µ–Ω–∑–∏—è Imena ¬© 2024

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2024-01-25  
**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:** 1.0  
**–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:** #vlikhobabin@gmail.com
