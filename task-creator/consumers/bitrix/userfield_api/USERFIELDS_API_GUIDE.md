# üìö REST API –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø–æ–ª–µ–π –∑–∞–¥–∞—á TASKS_TASK

## üéØ –û–±–∑–æ—Ä

–î–∞–Ω–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∫–∞—Å—Ç–æ–º–Ω—ã–π REST API endpoint –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø–æ–ª—è—Ö –∑–∞–¥–∞—á –≤ –ë–∏—Ç—Ä–∏–∫—Å24. API –¥–æ–ø–æ–ª–Ω—è–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π REST API –ë–∏—Ç—Ä–∏–∫—Å24, –∑–∞–ø–æ–ª–Ω—è—è –ø—Ä–æ–±–µ–ª –≤ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø–æ–ª–µ–π.

### –†–µ—à–∞–µ–º–∞—è –ø—Ä–æ–±–ª–µ–º–∞

–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π REST API –ë–∏—Ç—Ä–∏–∫—Å24 –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–¥–æ–±–Ω–æ–≥–æ —Å–ø–æ—Å–æ–±–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø–æ–ª–µ–π –¥–ª—è –æ–±—ä–µ–∫—Ç–∞ TASKS_TASK —Å –∏—Ö —Å–≤–æ–π—Å—Ç–≤–∞–º–∏ –∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ enum –ø–æ–ª–µ–π. –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã (`tasks.task.list`, `tasks.task.get`) –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø–æ–ª—è —Ç–æ–ª—å–∫–æ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∑–∞–¥–∞—á, —á—Ç–æ –Ω–µ—É–¥–æ–±–Ω–æ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –º–µ—Ç–∞–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—è—Ö.

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ API

- ‚úÖ **–ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è** - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞ –ø–æ–ª–µ–π –≤–∫–ª—é—á–∞—è enum –∑–Ω–∞—á–µ–Ω–∏—è
- ‚úÖ **–£–¥–æ–±–Ω—ã–π –¥–æ—Å—Ç—É–ø** - –µ–¥–∏–Ω—ã–π endpoint –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –ø–æ–ª–µ–π
- ‚úÖ **–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—è —Å –ø–æ–ª–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ–ª–µ–π –ø–æ —Ç–∏–ø–∞–º —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π
- ‚úÖ **–¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã** - —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JSON —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫
- ‚úÖ **D7 –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø–∞–º –ë–∏—Ç—Ä–∏–∫—Å D7 –∏ PSR-4
- ‚úÖ **–ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å** - —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º–∏ —è–∑—ã–∫–∞–º–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏** - API –æ—Ç–¥–µ–ª–µ–Ω –æ—Ç —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- ‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** - —á–∏—Å—Ç—ã–π REST API –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –æ—Ç GUI

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ë–∞–∑–æ–≤—ã–π URL

```
https://your-domain.bitrix24.ru/local/modules/imena.camunda/lib/UserFields/userfields_api.php
```

> **–í–∞–∂–Ω–æ:** –î–∞–Ω–Ω—ã–π API —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –æ—Ç–¥–µ–ª—å–Ω—ã–π endpoint —Ñ–∞–π–ª, –∞ –Ω–µ —á–µ—Ä–µ–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π REST API –ë–∏—Ç—Ä–∏–∫—Å24. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è webhook URL, –Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –±—ã—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º –≤ —Å–∏—Å—Ç–µ–º–µ –ë–∏—Ç—Ä–∏–∫—Å24.

### –¢–µ—Å—Ç–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API –¥–æ—Å—Ç—É–ø–µ–Ω GUI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
```
https://your-domain.bitrix24.ru/local/modules/imena.camunda/lib/UserFields/userfields_api_test_gui.php
```

### –î–æ—Å—Ç—É–ø–Ω—ã–µ endpoint'—ã

| –ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-----|----------|
| `list` | `?api=1&method=list` | –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –ø–æ–ª–µ–π |
| `get` | `?api=1&method=get&fieldId={id}` | –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—è |
| `stats` | `?api=1&method=stats` | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ç–∏–ø–∞–º –ø–æ–ª–µ–π |
| `types` | `?api=1&method=types` | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–∏–ø–∞—Ö –ø–æ–ª–µ–π |
| `exists` | `?api=1&method=checkExists&fieldId={id}` | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –ø–æ–ª—è |

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (PHP)

```php
<?php
// –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
$apiUrl = 'https://your-domain.bitrix24.ru/local/modules/imena.camunda/lib/UserFields/userfields_api.php';

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞
function makeApiRequest($method, $params = []) {
    global $apiUrl;
    
    // –§–æ—Ä–º–∏—Ä—É–µ–º URL —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
    $url = $apiUrl . '?api=1&method=' . $method;
    if (!empty($params)) {
        $url .= '&' . http_build_query($params);
    }
    
    $context = stream_context_create([
        'http' => [
            'method' => 'GET',
            'timeout' => 30,
            'ignore_errors' => true
        ],
        'ssl' => [
            'verify_peer' => false,
            'verify_peer_name' => false
        ]
    ]);

    $response = file_get_contents($url, false, $context);
    return json_decode($response, true);
}

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –ø–æ–ª–µ–π
$result = makeApiRequest('list');
if ($result['status'] === 'success') {
    foreach ($result['data']['userFields'] as $field) {
        echo "–ü–æ–ª–µ: {$field['FIELD_NAME']} (—Ç–∏–ø: {$field['USER_TYPE_ID']})\n";
    }
}
?>
```

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (Python)

```python
import requests
import json

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
API_URL = 'https://your-domain.bitrix24.ru/local/modules/imena.camunda/lib/UserFields/userfields_api.php'

def make_api_request(method, params=None):
    """–í—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ API"""
    if params is None:
        params = {}
    
    # –§–æ—Ä–º–∏—Ä—É–µ–º URL —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
    url = f"{API_URL}?api=1&method={method}"
    if params:
        url += '&' + '&'.join([f"{k}={v}" for k, v in params.items()])
    
    response = requests.get(url, timeout=30)
    
    if response.status_code == 200:
        return response.json()
    else:
        raise Exception(f"HTTP {response.status_code}: {response.text}")

# –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –ø–æ–ª–µ–π
try:
    result = make_api_request('list')
    if result.get('status') == 'success':
        for field in result['data']['userFields']:
            print(f"–ü–æ–ª–µ: {field['FIELD_NAME']} (—Ç–∏–ø: {field['USER_TYPE_ID']})")
except Exception as e:
    print(f"–û—à–∏–±–∫–∞: {e}")
```

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (Node.js)

```javascript
const axios = require('axios');

// –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
const API_URL = 'https://your-domain.bitrix24.ru/local/modules/imena.camunda/lib/UserFields/userfields_api.php';

async function makeApiRequest(method, params = {}) {
    try {
        // –§–æ—Ä–º–∏—Ä—É–µ–º URL —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
        let url = `${API_URL}?api=1&method=${method}`;
        if (Object.keys(params).length > 0) {
            const searchParams = new URLSearchParams(params);
            url += '&' + searchParams.toString();
        }
        
        const response = await axios.get(url, {
            timeout: 30000
        });
        return response.data;
    } catch (error) {
        throw new Error(`HTTP ${error.response?.status}: ${error.message}`);
    }
}

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –ø–æ–ª–µ–π
async function getFields() {
    try {
        const result = await makeApiRequest('list');
        if (result.status === 'success') {
            result.data.userFields.forEach(field => {
                console.log(`–ü–æ–ª–µ: ${field.FIELD_NAME} (—Ç–∏–ø: ${field.USER_TYPE_ID})`);
            });
        }
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞:', error.message);
    }
}

getFields();
```

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (C#)

```csharp
using System;
using System.Net.Http;
using System.Threading.Tasks;
using Newtonsoft.Json;

public class BitrixApiClient
{
    private readonly HttpClient _httpClient;
    private readonly string _webhookUrl;

    public BitrixApiClient(string webhookUrl)
    {
        _webhookUrl = webhookUrl;
        _httpClient = new HttpClient();
    }

    public async Task<dynamic> MakeApiRequest(string method, object parameters = null)
    {
        var content = new FormUrlEncodedContent(parameters?.ToDictionary() ?? new Dictionary<string, string>());
        var response = await _httpClient.PostAsync($"{_webhookUrl}{method}", content);
        
        if (response.IsSuccessStatusCode)
        {
            var json = await response.Content.ReadAsStringAsync();
            return JsonConvert.DeserializeObject(json);
        }
        else
        {
            throw new Exception($"HTTP {response.StatusCode}: {response.ReasonPhrase}");
        }
    }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
var client = new BitrixApiClient("https://your-domain.bitrix24.ru/rest/1/your-webhook/");
var result = await client.MakeApiRequest("imena.camunda.userfields.list");
```

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (JavaScript)

```javascript
// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞
async function makeApiRequest(method, params = {}) {
    const response = await fetch(`https://your-domain.bitrix24.ru/rest/1/your-webhook/${method}`, {
        method: 'POST',
        headers: {
            'Content-Type': 'application/x-www-form-urlencoded',
        },
        body: new URLSearchParams(params)
    });
    
    return await response.json();
}

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –ø–æ–ª–µ–π
const result = await makeApiRequest('imena.camunda.userfields.list');
if (result.result) {
    result.result.userFields.forEach(field => {
        console.log(`–ü–æ–ª–µ: ${field.FIELD_NAME} (—Ç–∏–ø: ${field.USER_TYPE_ID})`);
    });
}
```

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (Go)

```go
package main

import (
    "bytes"
    "encoding/json"
    "fmt"
    "io"
    "net/http"
    "net/url"
)

type BitrixApiClient struct {
    WebhookURL string
    HTTPClient *http.Client
}

func NewBitrixApiClient(webhookURL string) *BitrixApiClient {
    return &BitrixApiClient{
        WebhookURL: webhookURL,
        HTTPClient: &http.Client{},
    }
}

func (c *BitrixApiClient) MakeApiRequest(method string, params map[string]string) (map[string]interface{}, error) {
    data := url.Values{}
    for key, value := range params {
        data.Set(key, value)
    }
    
    resp, err := c.HTTPClient.PostForm(c.WebhookURL+method, data)
    if err != nil {
        return nil, err
    }
    defer resp.Body.Close()
    
    body, err := io.ReadAll(resp.Body)
    if err != nil {
        return nil, err
    }
    
    var result map[string]interface{}
    err = json.Unmarshal(body, &result)
    return result, err
}

func main() {
    client := NewBitrixApiClient("https://your-domain.bitrix24.ru/rest/1/your-webhook/")
    result, err := client.MakeApiRequest("imena.camunda.userfields.list", nil)
    if err != nil {
        fmt.Printf("–û—à–∏–±–∫–∞: %v\n", err)
        return
    }
    
    if result["result"] != nil {
        fields := result["result"].(map[string]interface{})["userFields"].([]interface{})
        for _, field := range fields {
            fieldMap := field.(map[string]interface{})
            fmt.Printf("–ü–æ–ª–µ: %s (—Ç–∏–ø: %s)\n", fieldMap["FIELD_NAME"], fieldMap["USER_TYPE_ID"])
        }
    }
}
```

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (cURL)

```bash
# –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –ø–æ–ª–µ–π
curl "https://your-domain.bitrix24.ru/local/modules/imena.camunda/lib/UserFields/userfields_api.php?api=1&method=list"

# –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—è
curl "https://your-domain.bitrix24.ru/local/modules/imena.camunda/lib/UserFields/userfields_api.php?api=1&method=get&fieldId=114"

# –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
curl "https://your-domain.bitrix24.ru/local/modules/imena.camunda/lib/UserFields/userfields_api.php?api=1&method=stats"
```

### –ü—Ä–∏–º–µ—Ä –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –¥–æ–º–µ–Ω–∞ (bx-dev.eg-holding.ru)

```bash
# –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –ø–æ–ª–µ–π
curl "https://bx-dev.eg-holding.ru/local/modules/imena.camunda/lib/UserFields/userfields_api.php?api=1&method=list"

# –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—è
curl "https://bx-dev.eg-holding.ru/local/modules/imena.camunda/lib/UserFields/userfields_api.php?api=1&method=get&fieldId=114"

# –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
curl "https://bx-dev.eg-holding.ru/local/modules/imena.camunda/lib/UserFields/userfields_api.php?api=1&method=stats"
```

## üìñ –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –º–µ—Ç–æ–¥–æ–≤

### 1. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –ø–æ–ª–µ–π

**Endpoint:** `?api=1&method=list`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø–æ–ª–µ–π –¥–ª—è –æ–±—ä–µ–∫—Ç–∞ TASKS_TASK —Å –∏—Ö —Å–≤–æ–π—Å—Ç–≤–∞–º–∏. –î–ª—è enum –ø–æ–ª–µ–π –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:** –Ω–µ—Ç

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**
```json
{
  "status": "success",
  "data": {
    "userFields": [
      {
        "ID": "6",
        "FIELD_NAME": "UF_CRM_TASK",
        "USER_TYPE_ID": "crm",
        "XML_ID": null,
        "SORT": "100",
        "MULTIPLE": "N",
        "MANDATORY": "N",
        "SHOW_FILTER": "N",
        "SHOW_IN_LIST": "Y",
        "EDIT_IN_LIST": "Y",
        "IS_SEARCHABLE": "N",
        "SETTINGS_PARSED": {
          "ENTITY_TYPE": ["LEAD", "CONTACT", "COMPANY", "DEAL"]
        },
        "ENUM_VALUES": [],
        "ENTITY_ID": "TASKS_TASK",
        "HAS_ENUM_VALUES": false
      },
      {
        "ID": "114",
        "FIELD_NAME": "UF_PROJECT",
        "USER_TYPE_ID": "enumeration",
        "XML_ID": null,
        "SORT": "100",
        "MULTIPLE": "Y",
        "MANDATORY": "N",
        "SHOW_FILTER": "S",
        "SHOW_IN_LIST": "Y",
        "EDIT_IN_LIST": "Y",
        "IS_SEARCHABLE": "N",
        "SETTINGS_PARSED": {},
        "ENUM_VALUES": [
          {
            "ID": "453",
            "VALUE": "–í–æ–ª–≥–æ–≥—Ä–∞–¥, –ø—Ä-—Ç –õ–µ–Ω–∏–Ω–∞",
            "DEF": "N",
            "SORT": "100",
            "XML_ID": null,
            "IS_DEFAULT": false
          },
          {
            "ID": "454",
            "VALUE": "–í–æ–ª–≥–æ–≥—Ä–∞–¥, –ö–∞–∑–∞—Ö—Å–∫–∞—è",
            "DEF": "N",
            "SORT": "200",
            "XML_ID": null,
            "IS_DEFAULT": false
          }
        ],
        "ENTITY_ID": "TASKS_TASK",
        "HAS_ENUM_VALUES": true
      }
    ],
    "total": 10,
    "entity": "TASKS_TASK"
  }
}
```

**HTTP –º–µ—Ç–æ–¥:** GET  
**Content-Type:** application/json

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞:**

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `status` | String | –°—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞ ("success" –∏–ª–∏ "error") |
| `data.userFields` | Array | –ú–∞—Å—Å–∏–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø–æ–ª–µ–π |
| `data.total` | Integer | –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª–µ–π |
| `data.entity` | String | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –æ–±—ä–µ–∫—Ç–∞ (–≤—Å–µ–≥–¥–∞ "TASKS_TASK") |

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–ª—è:**

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `ID` | String | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—è |
| `FIELD_NAME` | String | –ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ–ª—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, "UF_PROJECT") |
| `USER_TYPE_ID` | String | –¢–∏–ø –ø–æ–ª—è (string, enumeration, boolean, crm, etc.) |
| `XML_ID` | String/null | XML –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—è |
| `SORT` | String | –ü–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ |
| `MULTIPLE` | String | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π (Y/N) |
| `MANDATORY` | String | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ (Y/N) |
| `SHOW_FILTER` | String | –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤ —Ñ–∏–ª—å—Ç—Ä–µ (Y/N/I/S) |
| `SHOW_IN_LIST` | String | –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤ —Å–ø–∏—Å–∫–µ (Y/N) |
| `EDIT_IN_LIST` | String | –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ —Å–ø–∏—Å–∫–µ (Y/N) |
| `IS_SEARCHABLE` | String | –î–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è –ø–æ–∏—Å–∫–∞ (Y/N) |
| `SETTINGS` | Object | –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—è |
| `SETTINGS_PARSED` | Object | –†–∞—Å–ø–∞—Ä—Å–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ |
| `ENUM_VALUES` | Array | –ó–Ω–∞—á–µ–Ω–∏—è –¥–ª—è enum –ø–æ–ª–µ–π |
| `ENTITY_ID` | String | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –æ–±—ä–µ–∫—Ç–∞ |
| `HAS_ENUM_VALUES` | Boolean | –ï—Å—Ç—å –ª–∏ enum –∑–Ω–∞—á–µ–Ω–∏—è |

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ enum –∑–Ω–∞—á–µ–Ω–∏—è:**

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `ID` | String | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–Ω–∞—á–µ–Ω–∏—è |
| `VALUE` | String | –¢–µ–∫—Å—Ç–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ |
| `DEF` | String | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (Y/N) |
| `SORT` | String | –ü–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ |
| `XML_ID` | String/null | XML –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä |
| `IS_DEFAULT` | Boolean | –Ø–≤–ª—è–µ—Ç—Å—è –ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é |

### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—è

**Endpoint:** `?api=1&method=get&fieldId={id}`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º –ø–æ–ª–µ –≤–∫–ª—é—á–∞—è –∑–Ω–∞—á–µ–Ω–∏—è enum –∏ —Ä–∞—Å–ø–∞—Ä—Å–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `fieldId` (int, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø–æ–ª—è

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```php
$result = makeApiRequest('get', ['fieldId' => 114]);
```

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**
```json
{
  "status": "success",
  "data": {
    "userField": {
      "ID": "114",
      "FIELD_NAME": "UF_PROJECT",
      "USER_TYPE_ID": "enumeration",
      "XML_ID": null,
      "SORT": "100",
      "MULTIPLE": "Y",
      "MANDATORY": "N",
      "SHOW_FILTER": "S",
      "SHOW_IN_LIST": "Y",
      "EDIT_IN_LIST": "Y",
      "IS_SEARCHABLE": "N",
      "SETTINGS_PARSED": {},
      "ENUM_VALUES": [
        {
          "ID": "453",
          "VALUE": "–í–æ–ª–≥–æ–≥—Ä–∞–¥, –ø—Ä-—Ç –õ–µ–Ω–∏–Ω–∞",
          "DEF": "N",
          "SORT": "100",
          "XML_ID": null,
          "IS_DEFAULT": false
        }
      ],
      "ENTITY_ID": "TASKS_TASK",
      "HAS_ENUM_VALUES": true
    }
  }
}
```

**–ö–æ–¥—ã –æ—à–∏–±–æ–∫:**
- `400` - –ù–µ–≤–µ—Ä–Ω—ã–π ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø–æ–ª—è
- `404` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –ø–æ–ª–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ
- `500` - –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

### 3. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ç–∏–ø–∞–º –ø–æ–ª–µ–π

**Endpoint:** `?api=1&method=stats`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—â—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª–µ–π –∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫—É –ø–æ —Ç–∏–ø–∞–º.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:** –Ω–µ—Ç

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**
```json
{
  "status": "success",
  "data": {
    "stats": {
      "total": 10,
      "by_type": {
        "crm": 1,
        "enumeration": 2,
        "string": 3,
        "boolean": 1,
        "disk_file": 1,
        "iblock_element": 1,
        "mail_message": 1
      },
      "entity": "TASKS_TASK",
      "types_count": 7,
      "most_common_type": "string"
    }
  }
}
```

### 4. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–∏–ø–∞—Ö –ø–æ–ª–µ–π

**Endpoint:** `?api=1&method=types`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö —Ç–∏–ø–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø–æ–ª–µ–π.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:** –Ω–µ—Ç

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**
```json
{
  "status": "success",
  "data": {
    "types": {
      "string": {
        "name": "–°—Ç—Ä–æ–∫–∞",
        "description": "–¢–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ",
        "supports_multiple": true,
        "supports_enum": false
      },
      "enumeration": {
        "name": "–°–ø–∏—Å–æ–∫",
        "description": "–í—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ —Å –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏",
        "supports_multiple": true,
        "supports_enum": true
      },
      "boolean": {
        "name": "–î–∞/–ù–µ—Ç",
        "description": "–õ–æ–≥–∏—á–µ—Å–∫–æ–µ –ø–æ–ª–µ (–¥–∞/–Ω–µ—Ç)",
        "supports_multiple": false,
        "supports_enum": false
      },
      "crm": {
        "name": "CRM",
        "description": "–°–≤—è–∑—å —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ CRM",
        "supports_multiple": true,
        "supports_enum": false
      },
      "disk_file": {
        "name": "–§–∞–π–ª",
        "description": "–§–∞–π–ª–æ–≤–æ–µ –ø–æ–ª–µ",
        "supports_multiple": true,
        "supports_enum": false
      },
      "iblock_element": {
        "name": "–≠–ª–µ–º–µ–Ω—Ç –∏–Ω—Ñ–æ–±–ª–æ–∫–∞",
        "description": "–°–≤—è–∑—å —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –∏–Ω—Ñ–æ–±–ª–æ–∫–æ–≤",
        "supports_multiple": true,
        "supports_enum": false
      },
      "mail_message": {
        "name": "–ü–æ—á—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ",
        "description": "–°–≤—è–∑—å —Å –ø–æ—á—Ç–æ–≤—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏",
        "supports_multiple": false,
        "supports_enum": false
      }
    }
  }
}
```

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –ø–æ–ª—è

**Endpoint:** `?api=1&method=checkExists&fieldId={id}`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø–æ–ª—è –ø–æ ID.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `fieldId` (int, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø–æ–ª—è

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```php
$result = makeApiRequest('checkExists', ['fieldId' => 114]);
```

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**
```json
{
  "status": "success",
  "data": {
    "exists": true,
    "fieldId": 114
  }
}
```

## üìä –¢–∏–ø—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø–æ–ª–µ–π

| –¢–∏–ø | –ù–∞–∑–≤–∞–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ | –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ | Enum –∑–Ω–∞—á–µ–Ω–∏—è |
|-----|----------|----------|---------------|---------------|
| `string` | –°—Ç—Ä–æ–∫–∞ | –¢–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ | ‚úÖ | ‚ùå |
| `enumeration` | –°–ø–∏—Å–æ–∫ | –í—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ —Å –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ | ‚úÖ | ‚úÖ |
| `boolean` | –î–∞/–ù–µ—Ç | –õ–æ–≥–∏—á–µ—Å–∫–æ–µ –ø–æ–ª–µ (–¥–∞/–Ω–µ—Ç) | ‚ùå | ‚ùå |
| `crm` | CRM | –°–≤—è–∑—å —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ CRM | ‚úÖ | ‚ùå |
| `disk_file` | –§–∞–π–ª | –§–∞–π–ª–æ–≤–æ–µ –ø–æ–ª–µ | ‚úÖ | ‚ùå |
| `iblock_element` | –≠–ª–µ–º–µ–Ω—Ç –∏–Ω—Ñ–æ–±–ª–æ–∫–∞ | –°–≤—è–∑—å —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –∏–Ω—Ñ–æ–±–ª–æ–∫–æ–≤ | ‚úÖ | ‚ùå |
| `mail_message` | –ü–æ—á—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ | –°–≤—è–∑—å —Å –ø–æ—á—Ç–æ–≤—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ | ‚ùå | ‚ùå |

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ç–∏–ø–æ–≤

#### Enumeration (–°–ø–∏—Å–æ–∫)
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
- –ò–º–µ–µ—Ç –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∑–Ω–∞—á–µ–Ω–∏–π
- –ó–Ω–∞—á–µ–Ω–∏—è –∏–º–µ—é—Ç —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –∏ –º–æ–≥—É—Ç –±—ã—Ç—å –ø–æ–º–µ—á–µ–Ω—ã –∫–∞–∫ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- –î–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ –ø–æ–ª–µ `ENUM_VALUES` –≤ –æ—Ç–≤–µ—Ç–µ API

#### CRM
- –°–≤—è–∑—ã–≤–∞–µ—Ç –∑–∞–¥–∞—á–∏ —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ CRM (–ª–∏–¥—ã, –∫–æ–Ω—Ç–∞–∫—Ç—ã, –∫–æ–º–ø–∞–Ω–∏–∏, —Å–¥–µ–ª–∫–∏)
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –ø–æ–ª–µ `SETTINGS_PARSED`
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–≤—è–∑–∏

#### Boolean (–î–∞/–ù–µ—Ç)
- –ü—Ä–æ—Å—Ç–æ–µ –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –ø–æ–ª–µ
- –ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
- –ó–Ω–∞—á–µ–Ω–∏—è: `Y` (–¥–∞) –∏–ª–∏ `N` (–Ω–µ—Ç)

## üîß –ü—Ä–∏–º–µ—Ä—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

```php
<?php
// –ü–æ–ª—É—á–∞–µ–º –ø–æ–ª–µ UF_PROJECT (enumeration)
$result = makeApiRequest('imena.camunda.userfields.get', ['fieldId' => 114]);

if ($result['result']['userField']['USER_TYPE_ID'] === 'enumeration') {
    $projects = [];
    foreach ($result['result']['userField']['ENUM_VALUES'] as $value) {
        $projects[] = [
            'id' => $value['ID'],
            'name' => $value['VALUE']
        ];
    }
    
    // –ò—Å–ø–æ–ª—å–∑—É–µ–º –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–∏–ª—å—Ç—Ä–∞
    echo "–î–æ—Å—Ç—É–ø–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã:\n";
    foreach ($projects as $project) {
        echo "- {$project['name']} (ID: {$project['id']})\n";
    }
}
?>
```

### –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ —Ñ–∏–ª—å—Ç—Ä–∞ (Python)

```python
import requests

def create_dynamic_filter():
    """–°–æ–∑–¥–∞–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ñ–∏–ª—å—Ç—Ä –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø–æ–ª–µ–π"""
    
    # –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ –ø–æ–ª—è
    result = make_api_request('imena.camunda.userfields.list')
    
    if not result.get('result'):
        return []
    
    filters = []
    for field in result['result']['userFields']:
        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –ø–æ–ª—è, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
        if field['SHOW_FILTER'] in ['Y', 'I', 'S']:
            filter_config = {
                'name': field['FIELD_NAME'],
                'type': field['USER_TYPE_ID'],
                'multiple': field['MULTIPLE'] == 'Y',
                'mandatory': field['MANDATORY'] == 'Y'
            }
            
            # –î–ª—è enum –ø–æ–ª–µ–π –¥–æ–±–∞–≤–ª—è–µ–º –≤–∞—Ä–∏–∞–Ω—Ç—ã
            if field['USER_TYPE_ID'] == 'enumeration' and field.get('ENUM_VALUES'):
                filter_config['options'] = [
                    {'id': val['ID'], 'value': val['VALUE']} 
                    for val in field['ENUM_VALUES']
                ]
            
            filters.append(filter_config)
    
    return filters

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
filters = create_dynamic_filter()
for filter_config in filters:
    print(f"–§–∏–ª—å—Ç—Ä: {filter_config['name']} (—Ç–∏–ø: {filter_config['type']})")
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ (Node.js)

```javascript
const axios = require('axios');

class BitrixUserFieldsManager {
    constructor(webhookUrl) {
        this.webhookUrl = webhookUrl;
    }
    
    async getFieldOptions(fieldName) {
        try {
            // –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ –ø–æ–ª—è
            const result = await this.makeApiRequest('imena.camunda.userfields.list');
            
            // –ò—â–µ–º –Ω—É–∂–Ω–æ–µ –ø–æ–ª–µ
            const field = result.result.userFields.find(f => f.FIELD_NAME === fieldName);
            
            if (!field) {
                throw new Error(`–ü–æ–ª–µ ${fieldName} –Ω–µ –Ω–∞–π–¥–µ–Ω–æ`);
            }
            
            if (field.USER_TYPE_ID === 'enumeration' && field.ENUM_VALUES) {
                return field.ENUM_VALUES.map(val => ({
                    id: val.ID,
                    value: val.VALUE,
                    isDefault: val.IS_DEFAULT
                }));
            }
            
            return [];
        } catch (error) {
            console.error('–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –æ–ø—Ü–∏–π –ø–æ–ª—è:', error.message);
            return [];
        }
    }
    
    async validateFieldValue(fieldName, value) {
        const options = await this.getFieldOptions(fieldName);
        
        if (options.length === 0) {
            return true; // –ù–µ enum –ø–æ–ª–µ, –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–µ –Ω—É–∂–Ω–∞
        }
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –µ—Å—Ç—å –≤ —Å–ø–∏—Å–∫–µ –æ–ø—Ü–∏–π
        return options.some(option => option.id === value || option.value === value);
    }
    
    async makeApiRequest(method, params = {}) {
        const response = await axios.post(`${this.webhookUrl}${method}`, params, {
            timeout: 30000,
            headers: {
                'Content-Type': 'application/x-www-form-urlencoded'
            }
        });
        return response.data;
    }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const manager = new BitrixUserFieldsManager('https://your-domain.bitrix24.ru/rest/1/your-webhook/');

// –ü–æ–ª—É—á–∞–µ–º –æ–ø—Ü–∏–∏ –¥–ª—è –ø–æ–ª—è –ø—Ä–æ–µ–∫—Ç–∞
manager.getFieldOptions('UF_PROJECT').then(options => {
    console.log('–î–æ—Å—Ç—É–ø–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã:', options);
});

// –í–∞–ª–∏–¥–∏—Ä—É–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª—è
manager.validateFieldValue('UF_PROJECT', '453').then(isValid => {
    console.log('–ó–Ω–∞—á–µ–Ω–∏–µ –≤–∞–ª–∏–¥–Ω–æ:', isValid);
});
```

### –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ (Go)

```go
package main

import (
    "encoding/json"
    "fmt"
    "log"
    "net/http"
    "net/url"
)

type FieldOption struct {
    ID        string `json:"ID"`
    Value     string `json:"VALUE"`
    IsDefault bool   `json:"IS_DEFAULT"`
}

type UserField struct {
    ID            string        `json:"ID"`
    FieldName     string        `json:"FIELD_NAME"`
    UserTypeID    string        `json:"USER_TYPE_ID"`
    Multiple      string        `json:"MULTIPLE"`
    Mandatory     string        `json:"MANDATORY"`
    ShowFilter    string        `json:"SHOW_FILTER"`
    ShowInList    string        `json:"SHOW_IN_LIST"`
    EnumValues    []FieldOption `json:"ENUM_VALUES"`
    HasEnumValues bool          `json:"HAS_ENUM_VALUES"`
}

type FieldsResponse struct {
    Result struct {
        UserFields []UserField `json:"userFields"`
        Total      int         `json:"total"`
        Entity     string      `json:"entity"`
    } `json:"result"`
}

type BitrixSync struct {
    webhookURL string
    httpClient *http.Client
}

func NewBitrixSync(webhookURL string) *BitrixSync {
    return &BitrixSync{
        webhookURL: webhookURL,
        httpClient: &http.Client{},
    }
}

func (bs *BitrixSync) SyncFieldOptions(fieldName string) ([]FieldOption, error) {
    // –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ –ø–æ–ª—è
    result, err := bs.makeApiRequest("imena.camunda.userfields.list", nil)
    if err != nil {
        return nil, err
    }
    
    var fieldsResp FieldsResponse
    if err := json.Unmarshal(result, &fieldsResp); err != nil {
        return nil, err
    }
    
    // –ò—â–µ–º –Ω—É–∂–Ω–æ–µ –ø–æ–ª–µ
    for _, field := range fieldsResp.Result.UserFields {
        if field.FieldName == fieldName {
            if field.UserTypeID == "enumeration" && field.HasEnumValues {
                return field.EnumValues, nil
            }
            return []FieldOption{}, nil
        }
    }
    
    return nil, fmt.Errorf("–ø–æ–ª–µ %s –Ω–µ –Ω–∞–π–¥–µ–Ω–æ", fieldName)
}

func (bs *BitrixSync) makeApiRequest(method string, params map[string]string) ([]byte, error) {
    data := url.Values{}
    for key, value := range params {
        data.Set(key, value)
    }
    
    resp, err := bs.httpClient.PostForm(bs.webhookURL+method, data)
    if err != nil {
        return nil, err
    }
    defer resp.Body.Close()
    
    // –ß–∏—Ç–∞–µ–º –æ—Ç–≤–µ—Ç
    body := make([]byte, 0)
    buffer := make([]byte, 1024)
    for {
        n, err := resp.Body.Read(buffer)
        if n > 0 {
            body = append(body, buffer[:n]...)
        }
        if err != nil {
            break
        }
    }
    
    return body, nil
}

func main() {
    sync := NewBitrixSync("https://your-domain.bitrix24.ru/rest/1/your-webhook/")
    
    options, err := sync.SyncFieldOptions("UF_PROJECT")
    if err != nil {
        log.Fatal(err)
    }
    
    fmt.Printf("–ù–∞–π–¥–µ–Ω–æ %d –æ–ø—Ü–∏–π –¥–ª—è –ø–æ–ª—è UF_PROJECT:\n", len(options))
    for _, option := range options {
        fmt.Printf("- %s (ID: %s)\n", option.Value, option.ID)
    }
}
```

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∑–∞–¥–∞—á –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –ø–æ–ª—è–º

```php
<?php
// –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ –ø–æ–ª—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ —Ñ–∏–ª—å—Ç—Ä–∞
$result = makeApiRequest('imena.camunda.userfields.list');

$filters = [];
foreach ($result['result']['userFields'] as $field) {
    if ($field['SHOW_FILTER'] === 'Y' || $field['SHOW_FILTER'] === 'S') {
        $filters[] = [
            'name' => $field['FIELD_NAME'],
            'type' => $field['USER_TYPE_ID'],
            'multiple' => $field['MULTIPLE'] === 'Y'
        ];
    }
}

echo "–ü–æ–ª—è –¥–æ—Å—Ç—É–ø–Ω—ã–µ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏:\n";
foreach ($filters as $filter) {
    echo "- {$filter['name']} (—Ç–∏–ø: {$filter['type']})\n";
}
?>
```

### –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

```javascript
// –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ –ø–æ–ª—è –∏ —Å–æ–∑–¥–∞–µ–º –¥–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é —Ñ–æ—Ä–º—É
async function createDynamicForm() {
    const result = await makeApiRequest('imena.camunda.userfields.list');
    
    const form = document.createElement('form');
    
    result.result.userFields.forEach(field => {
        const div = document.createElement('div');
        div.className = 'form-group';
        
        const label = document.createElement('label');
        label.textContent = field.FIELD_NAME;
        label.setAttribute('for', field.FIELD_NAME);
        
        let input;
        
        switch (field.USER_TYPE_ID) {
            case 'enumeration':
                input = document.createElement('select');
                input.name = field.FIELD_NAME;
                input.multiple = field.MULTIPLE === 'Y';
                
                field.ENUM_VALUES.forEach(enumValue => {
                    const option = document.createElement('option');
                    option.value = enumValue.ID;
                    option.textContent = enumValue.VALUE;
                    input.appendChild(option);
                });
                break;
                
            case 'boolean':
                input = document.createElement('input');
                input.type = 'checkbox';
                input.name = field.FIELD_NAME;
                break;
                
            case 'string':
            default:
                input = document.createElement('input');
                input.type = 'text';
                input.name = field.FIELD_NAME;
                break;
        }
        
        div.appendChild(label);
        div.appendChild(input);
        form.appendChild(div);
    });
    
    document.body.appendChild(form);
}
```

## üö® –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∫–æ–¥—ã –æ—à–∏–±–æ–∫

| –ö–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|-----|----------|---------|
| `400` | –ù–µ–≤–µ—Ä–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞ | –ù–µ–≤–µ—Ä–Ω—ã–π ID –ø–æ–ª—è |
| `401` | –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω | –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è |
| `404` | –†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω | –ü–æ–ª–µ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç |
| `500` | –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ | –û—à–∏–±–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö |

### –ü—Ä–∏–º–µ—Ä –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

```php
<?php
$result = makeApiRequest('imena.camunda.userfields.get', ['fieldId' => 999]);

if (isset($result['error'])) {
    $error = $result['error'];
    switch ($error['error_description']) {
        case '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –ø–æ–ª–µ —Å ID 999 –Ω–µ –Ω–∞–π–¥–µ–Ω–æ':
            echo "–ü–æ–ª–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ\n";
            break;
        case '–ù–µ–≤–µ—Ä–Ω—ã–π ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø–æ–ª—è':
            echo "–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç ID\n";
            break;
        default:
            echo "–û—à–∏–±–∫–∞: " . $error['error_description'] . "\n";
    }
} else {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
    $field = $result['result']['userField'];
    echo "–ü–æ–ª–µ –Ω–∞–π–¥–µ–Ω–æ: {$field['FIELD_NAME']}\n";
}
?>
```

### JavaScript –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

```javascript
async function handleApiCall(method, params = {}) {
    try {
        const result = await makeApiRequest(method, params);
        
        if (result.error) {
            console.error('API Error:', result.error.error_description);
            return null;
        }
        
        return result.result;
    } catch (error) {
        console.error('Network Error:', error.message);
        return null;
    }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const fields = await handleApiCall('imena.camunda.userfields.list');
if (fields) {
    console.log('–ü–æ–ª—É—á–µ–Ω–æ –ø–æ–ª–µ–π:', fields.total);
}
```

## üîç –û—Ç–ª–∞–¥–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### GUI –¢–µ—Å—Ç–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–î–ª—è —É–¥–æ–±–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API —Å–æ–∑–¥–∞–Ω –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `userfields_api_test_gui.php`, –∫–æ—Ç–æ—Ä—ã–π:

- ‚úÖ –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ endpoint'—ã —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚úÖ –í—ã–≤–æ–¥–∏—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—è—Ö –≤ —É–¥–æ–±–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- ‚úÖ –î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API

### –î–æ—Å—Ç—É–ø –∫ —Ç–µ—Å—Ç–æ–≤–æ–º—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É

```
https://your-domain.bitrix24.ru/local/modules/imena.camunda/lib/UserFields/userfields_api_test_gui.php
```

### –¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API —Å–æ–∑–¥–∞–Ω —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç `test_userfields_api.php`, –∫–æ—Ç–æ—Ä—ã–π:

- –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ endpoint'—ã
- –í—ã–≤–æ–¥–∏—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—è—Ö
- –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å –æ–∂–∏–¥–∞–µ–º—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ –ë–î
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫—Ä–∞—Å–∏–≤—ã–µ —Ç–∞–±–ª–∏—Ü—ã —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

```bash
php test_userfields_api.php
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Å –ë–î

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å –æ–∂–∏–¥–∞–µ–º—ã–º–∏ –ø–æ–ª—è–º–∏ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:

```php
// –û–∂–∏–¥–∞–µ–º—ã–µ –ø–æ–ª—è (10 —à—Ç.)
$expectedFields = [
    6 => ['name' => 'UF_CRM_TASK', 'type' => 'crm'],
    55 => ['name' => 'UF_TASK_WEBDAV_FILES', 'type' => 'disk_file'],
    63 => ['name' => 'UF_MAIL_MESSAGE', 'type' => 'mail_message'],
    114 => ['name' => 'UF_PROJECT', 'type' => 'enumeration'],
    115 => ['name' => 'UF_STRING_TEST', 'type' => 'string'],
    116 => ['name' => 'UF_CAMUNDA_ID_EXTERNAL_TASK', 'type' => 'string'],
    120 => ['name' => 'UF_ORGANIZATION', 'type' => 'iblock_element'],
    121 => ['name' => 'UF_RESULT_EXPECTED', 'type' => 'boolean'],
    122 => ['name' => 'UF_RESULT_QUESTION', 'type' => 'string'],
    124 => ['name' => 'UF_RESULT_ANSWER', 'type' => 'enumeration']
];
```

## üõ†Ô∏è –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

#### 1. –û—à–∏–±–∫–∞ "Method not found"

**–ü—Ä–æ–±–ª–µ–º–∞:** API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É "Method not found"

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –Ω–∞–ø–∏—Å–∞–Ω–∏—è –º–µ—Ç–æ–¥–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –º–æ–¥—É–ª—å `imena.camunda` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –∞–∫—Ç–∏–≤–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫—É –∫–ª–∞—Å—Å–æ–≤ –≤ `include.php`

#### 2. –û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

**–ü—Ä–æ–±–ª–µ–º–∞:** API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

**–†–µ—à–µ–Ω–∏–µ:**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –≤ —Å–∏—Å—Ç–µ–º–µ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å webhook URL
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—Å—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ –¥–æ—Å—Ç—É–ø –∫ –∑–∞–¥–∞—á–∞–º

#### 3. –ü—É—Å—Ç–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

**–ü—Ä–æ–±–ª–µ–º–∞:** API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ –ø–æ–ª–µ–π

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤ —Å–∏—Å—Ç–µ–º–µ –µ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø–æ–ª—è –¥–ª—è TASKS_TASK
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–ª—è –Ω–µ —Å–∫—Ä—ã—Ç—ã –∏–ª–∏ –Ω–µ —É–¥–∞–ª–µ–Ω—ã
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è –æ—Ç–ª–∞–¥–∫–∏ –º–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ:

```php
// –í UserFieldsController.php
\Bitrix\Main\Diag\Debug::writeToFile(
    "API Call: " . $method . " with params: " . json_encode($params),
    '',
    '/local/logs/userfields_api.log'
);
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø—Ä—è–º–æ–π SQL –∑–∞–ø—Ä–æ—Å:

```sql
SELECT 
    ID, FIELD_NAME, USER_TYPE_ID, SORT, MULTIPLE, MANDATORY, 
    SHOW_FILTER, SHOW_IN_LIST, EDIT_IN_LIST
FROM b_user_field 
WHERE ENTITY_ID = 'TASKS_TASK' 
ORDER BY SORT ASC, ID ASC;
```

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

API –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –Ω–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:

```php
// –í UserFieldsService.php
use Bitrix\Main\Data\Cache;

public function getFieldsList(array $select = []): Result
{
    $cache = Cache::createInstance();
    $cacheKey = 'userfields_list_' . md5(serialize($select));
    
    if ($cache->initCache(3600, $cacheKey, '/userfields/')) {
        $result = $cache->getVars();
        return $result;
    }
    
    // –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ë–î...
    
    if ($cache->startDataCache()) {
        $cache->endDataCache($result);
    }
    
    return $result;
}
```

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø–æ–ª—è –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ `select` –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –æ–±—ä–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö
- –î–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –ø–∞–≥–∏–Ω–∞—Ü–∏—é
- –ò–Ω–¥–µ–∫—Å–∏—Ä—É–π—Ç–µ –ø–æ–ª—è `ENTITY_ID` –∏ `USER_TYPE_ID` –≤ —Ç–∞–±–ª–∏—Ü–µ `b_user_field`

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

–í—Å–µ –º–µ—Ç–æ–¥—ã API —Ç—Ä–µ–±—É—é—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

```php
'prefilters' => [
    new \Bitrix\Main\Engine\ActionFilter\Authentication(),
]
```

### –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

API –≤—ã–ø–æ–ª–Ω—è–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤—Å–µ—Ö –≤—Ö–æ–¥—è—â–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:

- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- –í–∞–ª–∏–¥–∞—Ü–∏—è ID –ø–æ–ª–µ–π
- –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∑–∞–ø—Ä–æ—Å–∞

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞

- API –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ù–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –ø–æ –ø—Ä–∞–≤–∞–º –¥–æ—Å—Ç—É–ø–∞
- –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è (–±–µ–∑–æ–ø–∞—Å–Ω–æ)

## üöÄ –†–∞–∑–≤–∏—Ç–∏–µ API

### –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **–ü–∞–≥–∏–Ω–∞—Ü–∏—è** - –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤ –ø–æ–ª–µ–π
2. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è** - –ø–æ —Ç–∏–ø—É –ø–æ–ª—è, —Å—Ç–∞—Ç—É—Å—É –∏ –¥—Ä—É–≥–∏–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º
3. **–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞** - –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
4. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
5. **–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö –≤–µ—Ä—Å–∏–π API

### –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

API –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –¥—Ä—É–≥–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤:

```php
// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –¥—Ä—É–≥–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤
const SUPPORTED_ENTITIES = [
    'TASKS_TASK',
    'CRM_LEAD', 
    'CRM_DEAL',
    'USER'
];

public function getFieldsList(string $entity = 'TASKS_TASK'): Result
{
    if (!in_array($entity, self::SUPPORTED_ENTITIES)) {
        // –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
    }
    
    // –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª–µ–π –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞
}
```

## üéØ –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### 1. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

```python
import time
from functools import lru_cache

class CachedBitrixAPI:
    def __init__(self, webhook_url):
        self.webhook_url = webhook_url
        self._cache = {}
        self._cache_ttl = 3600  # 1 —á–∞—Å
    
    @lru_cache(maxsize=128)
    def get_fields_list(self):
        """–ö—ç—à–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ–ª–µ–π"""
        return self._make_request('imena.camunda.userfields.list')
    
    def get_field_by_id(self, field_id):
        """–ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—è —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º"""
        cache_key = f"field_{field_id}"
        
        if cache_key in self._cache:
            cached_data, timestamp = self._cache[cache_key]
            if time.time() - timestamp < self._cache_ttl:
                return cached_data
        
        result = self._make_request('imena.camunda.userfields.get', {'fieldId': field_id})
        self._cache[cache_key] = (result, time.time())
        return result
```

### 2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

```javascript
class BitrixAPIError extends Error {
    constructor(message, code, details) {
        super(message);
        this.name = 'BitrixAPIError';
        this.code = code;
        this.details = details;
    }
}

async function makeApiRequest(method, params = {}) {
    try {
        const response = await fetch(`${WEBHOOK_URL}${method}`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/x-www-form-urlencoded',
            },
            body: new URLSearchParams(params)
        });
        
        if (!response.ok) {
            throw new BitrixAPIError(
                `HTTP ${response.status}: ${response.statusText}`,
                response.status
            );
        }
        
        const data = await response.json();
        
        if (data.error) {
            throw new BitrixAPIError(
                data.error.error_description || 'Unknown API error',
                data.error.error_code || 'UNKNOWN_ERROR',
                data.error
            );
        }
        
        return data;
    } catch (error) {
        if (error instanceof BitrixAPIError) {
            throw error;
        }
        throw new BitrixAPIError(
            `Network error: ${error.message}`,
            'NETWORK_ERROR',
            { originalError: error.message }
        );
    }
}
```

### 3. –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

```go
type FieldValidator struct {
    fields map[string]UserField
}

func NewFieldValidator(apiClient *BitrixAPI) *FieldValidator {
    return &FieldValidator{
        fields: make(map[string]UserField),
    }
}

func (fv *FieldValidator) LoadFields() error {
    result, err := fv.apiClient.GetFieldsList()
    if err != nil {
        return err
    }
    
    for _, field := range result.Result.UserFields {
        fv.fields[field.FieldName] = field
    }
    
    return nil
}

func (fv *FieldValidator) ValidateFieldValue(fieldName, value string) error {
    field, exists := fv.fields[fieldName]
    if !exists {
        return fmt.Errorf("–ø–æ–ª–µ %s –Ω–µ –Ω–∞–π–¥–µ–Ω–æ", fieldName)
    }
    
    switch field.UserTypeID {
    case "enumeration":
        if !fv.validateEnumValue(field, value) {
            return fmt.Errorf("–Ω–µ–¥–æ–ø—É—Å—Ç–∏–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –ø–æ–ª—è %s", fieldName)
        }
    case "boolean":
        if value != "Y" && value != "N" {
            return fmt.Errorf("–±—É–ª–µ–≤–æ –ø–æ–ª–µ %s –¥–æ–ª–∂–Ω–æ –∏–º–µ—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ Y –∏–ª–∏ N", fieldName)
        }
    case "string":
        if len(value) > 255 {
            return fmt.Errorf("—Å—Ç—Ä–æ–∫–∞ –¥–ª—è –ø–æ–ª—è %s —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–∞—è", fieldName)
        }
    }
    
    return nil
}
```

### 4. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

```python
import logging
import time
from functools import wraps

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    handlers=[
        logging.FileHandler('bitrix_api.log'),
        logging.StreamHandler()
    ]
)

logger = logging.getLogger('BitrixAPI')

def log_api_calls(func):
    """–î–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã–∑–æ–≤–æ–≤ API"""
    @wraps(func)
    def wrapper(*args, **kwargs):
        start_time = time.time()
        method_name = func.__name__
        
        logger.info(f"–í—ã–∑–æ–≤ API: {method_name}")
        
        try:
            result = func(*args, **kwargs)
            duration = time.time() - start_time
            logger.info(f"API {method_name} –≤—ã–ø–æ–ª–Ω–µ–Ω –∑–∞ {duration:.2f}—Å")
            return result
        except Exception as e:
            duration = time.time() - start_time
            logger.error(f"–û—à–∏–±–∫–∞ API {method_name} –ø–æ—Å–ª–µ {duration:.2f}—Å: {e}")
            raise
    return wrapper

class MonitoredBitrixAPI:
    @log_api_calls
    def get_fields_list(self):
        # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–ª–µ–π
        pass
    
    @log_api_calls
    def get_field_by_id(self, field_id):
        # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–ª—è
        pass
```

### 5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```python
import unittest
from unittest.mock import patch, MagicMock

class TestBitrixUserFieldsAPI(unittest.TestCase):
    def setUp(self):
        self.api = BitrixUserFieldsAPI('https://test.bitrix24.ru/rest/1/test/')
    
    @patch('requests.post')
    def test_get_fields_list_success(self, mock_post):
        # –ú–æ–∫–∞–µ–º —É—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç
        mock_response = MagicMock()
        mock_response.status_code = 200
        mock_response.json.return_value = {
            'result': {
                'userFields': [
                    {
                        'ID': '114',
                        'FIELD_NAME': 'UF_PROJECT',
                        'USER_TYPE_ID': 'enumeration'
                    }
                ],
                'total': 1,
                'entity': 'TASKS_TASK'
            }
        }
        mock_post.return_value = mock_response
        
        result = self.api.get_fields_list()
        
        self.assertEqual(result['result']['total'], 1)
        self.assertEqual(len(result['result']['userFields']), 1)
        self.assertEqual(result['result']['userFields'][0]['FIELD_NAME'], 'UF_PROJECT')
    
    @patch('requests.post')
    def test_get_fields_list_error(self, mock_post):
        # –ú–æ–∫–∞–µ–º –æ—à–∏–±–∫—É
        mock_response = MagicMock()
        mock_response.status_code = 500
        mock_response.text = 'Internal Server Error'
        mock_post.return_value = mock_response
        
        with self.assertRaises(BitrixAPIError):
            self.api.get_fields_list()

if __name__ == '__main__':
    unittest.main()
```

## ‚ùì –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### Q: –ù—É–∂–µ–Ω –ª–∏ webhook URL –¥–ª—è API?

A: –ù–µ—Ç, webhook URL –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è. API —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ë–∏—Ç—Ä–∏–∫—Å24. –ü—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–∞–∑–æ–≤—ã–π URL —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏.

### Q: –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å API –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏?

A: –ù–µ—Ç, –≤—Å–µ –º–µ—Ç–æ–¥—ã API —Ç—Ä–µ–±—É—é—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö.

### Q: –ö–∞–∫ —á–∞—Å—Ç–æ –º–æ–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å API?

A: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∑–∞–≤–∏—Å—è—Ç –æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤–∞—à–µ–≥–æ –ë–∏—Ç—Ä–∏–∫—Å24. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:
- –ù–µ –±–æ–ª–µ–µ 1 –∑–∞–ø—Ä–æ—Å–∞ –≤ —Å–µ–∫—É–Ω–¥—É –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ò–∑–±–µ–≥–∞—Ç—å –º–∞—Å—Å–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –∫–æ—Ä–æ—Ç–∫–∏–π –ø–µ—Ä–∏–æ–¥

### Q: –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ª–∏ API –¥—Ä—É–≥–∏–µ –æ–±—ä–µ–∫—Ç—ã –∫—Ä–æ–º–µ TASKS_TASK?

A: –í —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ API —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å –æ–±—ä–µ–∫—Ç–æ–º TASKS_TASK. –í –±—É–¥—É—â–∏—Ö –≤–µ—Ä—Å–∏—è—Ö –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥—Ä—É–≥–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤ (CRM_LEAD, CRM_DEAL, USER).

### Q: –ö–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ API?

A: –í—Å–µ –æ—à–∏–±–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ:
```json
{
  "error": {
    "error_code": "ERROR_CODE",
    "error_description": "–û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏"
  }
}
```

### Q: –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å API –≤ production?

A: –î–∞, API –≥–æ—Ç–æ–≤ –¥–ª—è production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –ø–µ—Ä–µ–¥ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ–º

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –æ—à–∏–±–æ–∫** –≤ `/local/logs/`
2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç** `test_userfields_api.php`
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å –¥–∞–Ω–Ω—ã–º–∏ –≤ –ë–î**
4. **–£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ webhook URL –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏**
5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é –º–æ–¥—É–ª—è** `imena.camunda`

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –º–æ–¥—É–ª—è
php -r "echo CModule::IncludeModule('imena.camunda') ? '–ú–æ–¥—É–ª—å –∞–∫—Ç–∏–≤–µ–Ω' : '–ú–æ–¥—É–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω';"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∏ –∫–ª–∞—Å—Å–æ–≤
php -r "echo class_exists('ImenaCamunda\\UserFields\\Controller\\UserFieldsController') ? '–ö–ª–∞—Å—Å—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã' : '–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏';"

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API —á–µ—Ä–µ–∑ cURL
curl "https://your-domain.bitrix24.ru/local/modules/imena.camunda/lib/UserFields/userfields_api.php?api=1&method=list"
```

### –ö–æ–Ω—Ç–∞–∫—Ç—ã

- **–ê–≤—Ç–æ—Ä:** #vlikhobabin@gmail.com
- **–í–µ—Ä—Å–∏—è:** 1.0
- **–î–∞—Ç–∞:** 2025-01-19
- **–õ–∏—Ü–µ–Ω–∑–∏—è:** MIT

---

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–î–∞–Ω–Ω—ã–π REST API –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–¥–æ–±–Ω—ã–π –∏ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ –ø–æ–ª—è–º–∏ –∑–∞–¥–∞—á –≤ –ë–∏—Ç—Ä–∏–∫—Å24. API —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω —Å —É—á–µ—Ç–æ–º —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –ª—é–±—ã–º–∏ —è–∑—ã–∫–∞–º–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è.

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

- ‚úÖ **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å** - —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º–∏ —è–∑—ã–∫–∞–º–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞** - –ø–æ–Ω—è—Ç–Ω—ã–π REST API —Å JSON –æ—Ç–≤–µ—Ç–∞–º–∏
- ‚úÖ **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å** - –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∏ –æ–ø–∏—Å–∞–Ω–∏—è

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. **–ò–∑—É—á–∏—Ç–µ –ø—Ä–∏–º–µ—Ä—ã** –¥–ª—è –≤–∞—à–µ–≥–æ —è–∑—ã–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ webhook** –≤ –∞–¥–º–∏–Ω–∫–µ –ë–∏—Ç—Ä–∏–∫—Å24
3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ API** —Å –ø–æ–º–æ—â—å—é —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞
4. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ** –≤ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
5. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–£–¥–∞—á–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏! üöÄ
